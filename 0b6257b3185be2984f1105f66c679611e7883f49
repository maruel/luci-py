{
  "comments": [
    {
      "key": {
        "uuid": "f997bbc3_91d8f7b9",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T06:19:46Z",
      "side": 1,
      "message": "I still have bit concern about PII handling when get_current_identity().is_user case.\n\nSo how do you think only loging that identity is come from user if is_user \u003d\u003d True and check whether there are still many access from user account after migrating known python client usage?",
      "range": {
        "startLine": 60,
        "startChar": 41,
        "endLine": 60,
        "endChar": 68
      },
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "606aae5d_276a66e8",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2020-03-24T06:34:05Z",
      "side": 1,
      "message": "\u003e So how do you think only loging that identity is come from user if is_user \u003d\u003d True\n\nSGTM\n\n\u003e and check whether there are still many access from user account after migrating known python client usage?\n\nI think we are already in this stage?\n\nFYI the policy for PII in prod remote debug log: https://g3doc.corp.google.com/monitoring/logging/g3doc/remote_debug_logging/user_data.md#pii. It doesn\u0027t forbid PII at least. Do we know that only people with the proper ACL can access these logs?",
      "parentUuid": "f997bbc3_91d8f7b9",
      "range": {
        "startLine": 60,
        "startChar": 41,
        "endLine": 60,
        "endChar": 68
      },
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e44dc182_86a0ac36",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T06:41:21Z",
      "side": 1,
      "message": "\u003e \u003e and check whether there are still many access from user account after migrating known python client usage?\n\u003e \n\u003e I think we are already in this stage?\n\nAh, I see.\n\n\u003e \n\u003e FYI the policy for PII in prod remote debug log: https://g3doc.corp.google.com/monitoring/logging/g3doc/remote_debug_logging/user_data.md#pii. It doesn\u0027t forbid PII at least. Do we know that only people with the proper ACL can access these logs?\n\nI currently think swarming projects allow broader access more than necessary, so still want to defer or avoid user id logging.",
      "parentUuid": "606aae5d_276a66e8",
      "range": {
        "startLine": 60,
        "startChar": 41,
        "endLine": 60,
        "endChar": 68
      },
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65589ca2_832501bd",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2020-03-24T06:47:45Z",
      "side": 1,
      "message": "i thought we first agreed on logging user id? what else would be a good replacement here?",
      "parentUuid": "e44dc182_86a0ac36",
      "range": {
        "startLine": 60,
        "startChar": 41,
        "endLine": 60,
        "endChar": 68
      },
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a73210ed_cf0b0859",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T08:47:26Z",
      "side": 1,
      "message": "Sorry, but I changed my mind.\n\nMy concern is that whether we have sufficiently narrowed permission for log.\nhttps://pantheon.corp.google.com/iam-admin/iam?project\u003disolateserver\nAnd I think http://shortn/_g9nTkYhDhz currently has bit too many people.\n\nAlso we rather want to knonw which service accounts are using python client. So I\u0027d like to let user contact us by themselfs if we lost compatibility to python client after announncement instead of logging and contact to user from ourselfs.",
      "parentUuid": "65589ca2_832501bd",
      "range": {
        "startLine": 60,
        "startChar": 41,
        "endLine": 60,
        "endChar": 68
      },
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9383b95_057cbb4f",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 590,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T06:19:46Z",
      "side": 1,
      "message": "why not write this inline?",
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fdcdc0d_f86d9e1f",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 590,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2020-03-24T06:34:05Z",
      "side": 1,
      "message": "mostly for mocking",
      "parentUuid": "d9383b95_057cbb4f",
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8b946a6_190bd9ce",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 590,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T06:41:21Z",
      "side": 1,
      "message": "You can use mock\nhttps://pypi.org/project/mock/",
      "parentUuid": "1fdcdc0d_f86d9e1f",
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eea7333f_6fdbf6e5",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 590,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2020-03-24T06:47:45Z",
      "side": 1,
      "message": "i mean i need this function in order to do the mocking. or am i miss understanding what you meant by \"inline\"?",
      "parentUuid": "f8b946a6_190bd9ce",
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c12f190_f23169c6",
        "filename": "appengine/isolate/handlers_endpoints_v1.py",
        "patchSetId": 7
      },
      "lineNbr": 590,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T08:47:26Z",
      "side": 1,
      "message": "I think you can check the behavior by using mock.assert_any_call(...) and with @patch(\u0027logging.info\u0027)?\nhttps://docs.python.org/dev/library/unittest.mock.html#unittest.mock.patch\nhttps://docs.python.org/dev/library/unittest.mock.html#unittest.mock.Mock.assert_any_call\nand",
      "parentUuid": "eea7333f_6fdbf6e5",
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dc6cbfb_0e62d4ca",
        "filename": "appengine/isolate/handlers_endpoints_v1_test.py",
        "patchSetId": 7
      },
      "lineNbr": 606,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-03-24T08:47:26Z",
      "side": 1,
      "message": "2 empty lines are sufficient.",
      "revId": "0b6257b3185be2984f1105f66c679611e7883f49",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}