{
  "comments": [
    {
      "key": {
        "uuid": "f6aea51f_e026e05f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2019-02-27T20:51:58Z",
      "side": 1,
      "message": "how do I login? It says \"You don\u0027t have access\" (I tried my @google.com)",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 145
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a398958_a9f11f97",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "Hey Vadim. \n\nSpinnaker Cloud is a normal Google cloud project so this is handled by IAM. \nI\u0027ve added you as a viewer of the project. \n\nAny suggestion of a good group to use?",
      "parentUuid": "f6aea51f_e026e05f",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 145
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c68eed3f_71d1d679",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 31,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2019-02-27T20:51:58Z",
      "side": 1,
      "message": "nit: considering GCBDIR is a temp directory deleted after each build, rsync is overkill and cp would be fine",
      "range": {
        "startLine": 31,
        "startChar": 1,
        "endLine": 31,
        "endChar": 6
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "249253bf_f56db21d",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 31,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "The reason we ended up with this command is pretty much to have a working way to deref symlinks properly.  Tar failed us, honestly I didnt\u0027 try just plain old copy, I do use the --exclude flag in a later commit though to handle the tool/protoc pointing to nothing. \n\nI\u0027ll keep as is for now if that\u0027s fine with you.",
      "parentUuid": "c68eed3f_71d1d679",
      "range": {
        "startLine": 31,
        "startChar": 1,
        "endLine": 31,
        "endChar": 6
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d78c1e72_cc67fab7",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2019-02-27T20:51:58Z",
      "side": 1,
      "message": "Will there be a way in the future to ensure we deploy to production environment only builds produced from checked in source code?",
      "range": {
        "startLine": 32,
        "startChar": 78,
        "endLine": 32,
        "endChar": 79
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d90d43c8_76aa8f70",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2019-02-27T20:51:58Z",
      "side": 1,
      "message": "do I understand correctly that this is basically glorified remote docker runner and we can potentially just use local docker? (but it would be inconvenient because no everyone have it etc).",
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b6b42a7_547a9fad",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "Yes, we already have that working. A discussion is needed with you and SRE what you want here.\n\n- I\u0027d expect for the dev env. you\u0027d like to push the working folder as is in this Makefile.\n- For Staging/Prod  pushing only checked in code would be the norm.\n   - Pushing from the local workspace to Staging/Prod would need SRE involvement.\n\nSo as a dev, would a `deploy-dev` and a `deploy` be enough? First option pushing your local changes to the dev instance , second pushing checked in code through staging to prod?",
      "parentUuid": "d78c1e72_cc67fab7",
      "range": {
        "startLine": 32,
        "startChar": 78,
        "endLine": 32,
        "endChar": 79
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6d4a585_bc047301",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "Yes that\u0027s exactly what it is .. :).. \n\nAnd we are thinking if it\u0027d be nice to drop a Dockerfile in the project folder that will provide the env needed to build/dev_appserver/tinker.",
      "parentUuid": "d90d43c8_76aa8f70",
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be09b52d_6a952b61",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1114299
      },
      "writtenOn": "2019-02-27T07:27:21Z",
      "side": 1,
      "message": "nothing here is luci-config-specific. Are we still in experimentation stage and the plan is to put this into a reusable script (perhaps gae.py) eventually?",
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47aa6404_aefe2f4a",
        "filename": "appengine/config_service/Makefile",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "Yes we try to make it general , and yes we\u0027d like to make this general. First for Appengine apps but in the longer run all applicable services.\n\ngo/chrome-infra-appengine-deployments\n\nAs for gae.py, it\u0027s a wrapper around gcloud. The gcloud in this release process is run by Spinnaker so I\u0027d either say we stop using gae.py or gut it and have it wrap around this new process instead.",
      "parentUuid": "be09b52d_6a952b61",
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5924dc25_3e9332eb",
        "filename": "appengine/config_service/app-spin.yaml",
        "patchSetId": 6
      },
      "lineNbr": 1,
      "author": {
        "id": 1114299
      },
      "writtenOn": "2019-02-27T07:27:21Z",
      "side": 1,
      "message": "9",
      "range": {
        "startLine": 1,
        "startChar": 15,
        "endLine": 1,
        "endChar": 16
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1711fe8a_dacd8a8a",
        "filename": "appengine/config_service/app-spin.yaml",
        "patchSetId": 6
      },
      "lineNbr": 1,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5924dc25_3e9332eb",
      "range": {
        "startLine": 1,
        "startChar": 15,
        "endLine": 1,
        "endChar": 16
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "125d535f_b4f7cd12",
        "filename": "appengine/config_service/cloudbuild.yaml",
        "patchSetId": 6
      },
      "lineNbr": 2,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2019-02-27T20:51:58Z",
      "side": 1,
      "message": "Where are these images defined? How are they updated? Who will have access to upload images to chrome-infra-spinnaker GCR? Will we be able to setup CI for them and generate them only from checked in source code?",
      "range": {
        "startLine": 2,
        "startChar": 8,
        "endLine": 2,
        "endChar": 42
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1be8fc49_aed3fdec",
        "filename": "appengine/config_service/cloudbuild.yaml",
        "patchSetId": 6
      },
      "lineNbr": 2,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "This is something we\u0027re actively reaching out to you guys to get some pointers. \n\nI reached out to Andrii but he didn\u0027t have any cycles atm. so 302d me to luci-eng@ .. This would be to discuss a good place to put these files and if we have and test,lint going for Dockerfiles.",
      "parentUuid": "125d535f_b4f7cd12",
      "range": {
        "startLine": 2,
        "startChar": 8,
        "endLine": 2,
        "endChar": 42
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f45e8a7a_52f2cf2e",
        "filename": "appengine/config_service/cloudbuild.yaml",
        "patchSetId": 6
      },
      "lineNbr": 9,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2019-02-27T20:51:58Z",
      "side": 1,
      "message": "In what Cloud Project this bucket is defined? Who has write access to it? Is there a way to enforce that Spinnaker picks up only builds produced by Cloud Build (e.g. either limit write access to this bucket ONLY to Cloud Build or make Cloud Build sign artifacts and Spinnaker verify them)?\n\nSimilar question: what is the plan for supporting multiple services? Will it all be in a single project with single ACL? \n\nThe concern is that we have different levels of criticality of services from security PoV. Some (if compromised) may taint official Chrome builds, which is pretty bad. Many services are less important. Set of people that works on security critical services is much smaller that set of all chops engineers that need to deploy services.\n\nThus it is very important to make sure set of people that can update security sensitive services doesn\u0027t grow to include everyone in chops. Today we can do this by tweaking project ACLs of each individual service. But if *all* updates are funneled through single Cloud Build/Spinnaker instance, we\u0027ll lose this capability.",
      "range": {
        "startLine": 9,
        "startChar": 20,
        "endLine": 9,
        "endChar": 39
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "efcd6481_2099920c",
        "filename": "appengine/config_service/cloudbuild.yaml",
        "patchSetId": 6
      },
      "lineNbr": 9,
      "author": {
        "id": 1285093
      },
      "writtenOn": "2019-02-27T23:50:40Z",
      "side": 1,
      "message": "This specific bucket is owned by the project \"chrome-infra-spinnaker\".  This is not in any way mandatory though, the bucket can live anywhere, including inside the project. Yes permissions can be set on cloud build to be the only writer.\n\nAbout multiple services, this as with the buckets is up to us. An instance of Cloud Spinnaker can handle multiple services, it does have a permission system to limit what applications/accounts/etc. users can access. \n\nThis gives we can group a bunch of services in one Cloud Spinnaker instance and still have some separation on what different users can see do. \n\nFor projects of higher security levels I\u0027d say we spin up separate Cloud Spinnakers for them.",
      "parentUuid": "f45e8a7a_52f2cf2e",
      "range": {
        "startLine": 9,
        "startChar": 20,
        "endLine": 9,
        "endChar": 39
      },
      "revId": "7fdb946dbe6067ecf381118800f36cb5a17b8a5a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}