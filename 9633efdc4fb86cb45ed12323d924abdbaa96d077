{
  "comments": [
    {
      "key": {
        "uuid": "e7f00d9b_fccca8b7",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T04:59:44Z",
      "side": 1,
      "message": "I think we currently cannot use module via vpython used from script other than test.\nSo include module only used by tests here.",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a96757f_908a2a1b",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T05:36:40Z",
      "side": 1,
      "message": "six is used in swarming/test.py",
      "parentUuid": "e7f00d9b_fccca8b7",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "502b0261_b0dfad9d",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T05:46:31Z",
      "side": 1,
      "message": "I still think better to not have six here.\nI\u0027m afraid that forgeting path modification for code running in production and it failed to import six.\n\nAnd using sys.version seems sufficient for current test.py?",
      "parentUuid": "4a96757f_908a2a1b",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1ce6952_05d3e738",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T06:31:17Z",
      "side": 1,
      "message": "\u003e running in production\n\ntest.py won\u0027t be running on production. \n\n\u003e I\u0027m afraid that forgetting path modification\n\nThat\u0027s why we should use vpython :)\nAt very least, testing environment already has vpython.\n\n\u003e And using sys.version seems sufficient for current test.py?\n\nIt is ok not to use six for this use case.\nBut in general, the point of using third private/public packages is to avoid reinventing the wheel.",
      "parentUuid": "502b0261_b0dfad9d",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "864f8bbe_86ee041c",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T06:51:39Z",
      "side": 1,
      "message": "Currently, I\u0027m not sure whether we can use vpython in every bots.\nSo every production code needs to modify sys.path to see six module in third_party directory.\n\nBut if we have six in vpython, we may forget to update sys.path update for bot code.",
      "parentUuid": "f1ce6952_05d3e738",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28f8b93e_828be919",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T09:01:48Z",
      "side": 1,
      "message": "Ah,now I understand what you mean. that\u0027s very annoying.\n\nI tried to remove six, but noticed that nose2 also requires six..\nSo for now just let me keep the six in vpython.",
      "parentUuid": "864f8bbe_86ee041c",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6993c39_f9e73c3f",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T09:19:59Z",
      "side": 1,
      "message": "Even in that case, I think it is better to call setup env before importing nose2 to remove six from this file.",
      "parentUuid": "28f8b93e_828be919",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "396610d0_8be5602c",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-11T10:28:19Z",
      "side": 1,
      "message": "The problem is that even if six is in path, vpython fails to start because it can\u0027t resolve the dependencies at initializing an environment.\n\n```\n‚ùØ PYTHONPATH\u003d/usr/local/google/home/jwata/chrome_infra/infra/luci/client/third_party vpython test.py\n[E2019-10-11T19:11:10.702295+09:00 47008 0 venv.go:951] Command (cwd\u003d): [/usr/local/google/home/jwata/.vpython-root/82ab95/bin/python -B -E -s -m pip install --isolated --compile --no-index --find-links /tmp/vpython_bootstrap936681296/packages --requirement /tmp/vpython_bootstrap936681296/requirements.txt --no-binary\u003d:none: --only-binary\u003d:all: --use-wheel]\nProcess output:\nCollecting coverage\u003d\u003d4.3.4 (from -r /tmp/vpython_bootstrap936681296/requirements.txt (line 1))\nCollecting funcsigs\u003d\u003d1.0.2 (from -r /tmp/vpython_bootstrap936681296/requirements.txt (line 2))\nCollecting mock\u003d\u003d2.0.0 (from -r /tmp/vpython_bootstrap936681296/requirements.txt (line 3))\nCollecting nose2\u003d\u003d0.9.1 (from -r /tmp/vpython_bootstrap936681296/requirements.txt (line 4))\nCollecting pbr\u003d\u003d3.0.0 (from -r /tmp/vpython_bootstrap936681296/requirements.txt (line 5))\nCollecting pycrypto\u003d\u003d2.6.1 (from -r /tmp/vpython_bootstrap936681296/requirements.txt (line 6))\nCollecting six\u003e\u003d1.9 (from mock\u003d\u003d2.0.0-\u003e-r /tmp/vpython_bootstrap936681296/requirements.txt (line 3))\n  Could not find a version that satisfies the requirement six\u003e\u003d1.9 (from mock\u003d\u003d2.0.0-\u003e-r /tmp/vpython_bootstrap936681296/requirements.txt (line 3)) (from versions: )\nNo matching distribution found for six\u003e\u003d1.9 (from mock\u003d\u003d2.0.0-\u003e-r /tmp/vpython_bootstrap936681296/requirements.txt (line 3))\n```",
      "parentUuid": "f6993c39_f9e73c3f",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 23,
        "endChar": 1
      },
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f3e929a_dfab0582",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T05:46:31Z",
      "side": 1,
      "message": "who use this?",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2337ef4_f450135a",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T06:31:17Z",
      "side": 1,
      "message": "required by nose2",
      "parentUuid": "0f3e929a_dfab0582",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6996ef1c_89e4f3b1",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T06:51:39Z",
      "side": 1,
      "message": "Could you write comment saying that?",
      "parentUuid": "e2337ef4_f450135a",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0017b893_775219a2",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T09:01:48Z",
      "side": 1,
      "message": "added comment",
      "parentUuid": "6996ef1c_89e4f3b1",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a791112d_eb5083d9",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T05:46:31Z",
      "side": 1,
      "message": "who use this?",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "979ca92c_f55719f9",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T06:31:17Z",
      "side": 1,
      "message": "required by nose2",
      "parentUuid": "a791112d_eb5083d9",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ab5ebff_a44fa4f6",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T06:51:39Z",
      "side": 1,
      "message": "and here too",
      "parentUuid": "979ca92c_f55719f9",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddd1195b_b632a85d",
        "filename": ".vpython",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T09:01:48Z",
      "side": 1,
      "message": "added comment",
      "parentUuid": "4ab5ebff_a44fa4f6",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fca5298b_dc4388a2",
        "filename": ".vpython3",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2019-10-10T04:59:44Z",
      "side": 1,
      "message": "ditto",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bba5676_8ee1bf5e",
        "filename": ".vpython3",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T05:36:40Z",
      "side": 1,
      "message": "same",
      "parentUuid": "fca5298b_dc4388a2",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36f7b7b6_e54eed4a",
        "filename": ".vpython3",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2019-10-10T09:01:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1bba5676_8ee1bf5e",
      "revId": "9633efdc4fb86cb45ed12323d924abdbaa96d077",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}