{
  "comments": [
    {
      "key": {
        "uuid": "d42cd812_55b001df",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1114919
      },
      "writtenOn": "2020-02-13T21:53:33Z",
      "side": 1,
      "message": "s",
      "range": {
        "startLine": 80,
        "startChar": 20,
        "endLine": 80,
        "endChar": 21
      },
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11896f90_f4910680",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2020-02-13T23:46:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d42cd812_55b001df",
      "range": {
        "startLine": 80,
        "startChar": 20,
        "endLine": 80,
        "endChar": 21
      },
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a7d9716_2149115e",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1114919
      },
      "writtenOn": "2020-02-13T21:53:33Z",
      "side": 1,
      "message": "how about requiring that each defined CUstomRole *must* be used in at least 1 binding?",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4bcbc03_771dac76",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2020-02-13T21:55:20Z",
      "side": 1,
      "message": "A custom role that just groups a bunch of predefined roles together is a valid and useful custom role. (Ability to do that is why \u0027role\u0027 field in Binding is not repeated).",
      "parentUuid": "4a7d9716_2149115e",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fb0a7113_4821c720",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-02-13T21:56:52Z",
      "side": 1,
      "message": "However if a custom role is never extended and never used in a binding, then it would be deadweight, right?",
      "parentUuid": "e4bcbc03_771dac76",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df2bcf30_3ee599d2",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2020-02-13T23:46:23Z",
      "side": 1,
      "message": "Yes, but I prefer not to care about this for now. Custom roles are \"local\" mechanism to reduce repetition in hand-crafted realms.cfg. I think lucicfg won\u0027t even use them. So I\u0027m not super concerned about ergonomics of custom roles for now.",
      "parentUuid": "fb0a7113_4821c720",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2fe158e2_8456fd8f",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1381059
      },
      "writtenOn": "2020-02-13T22:21:44Z",
      "side": 1,
      "message": "How do you feel about modeling permission as a message like\n\n```\nmessage permission {\n  string action \u003d 1;\n  string resource \u003d 2;\n}\n```\n\nto avoid the assumption that the third element of splitted string will be the verb?\n\nIs modeling it as string for the simplicity of writing the cfg file or there\u0027s other concern?",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7272571f_41409652",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-02-13T22:56:36Z",
      "side": 1,
      "message": "I tend towards structured data as well; however it presents the problem of \"how do you print it?\" and then once you figure out how to print it, humans will be used to seeing it in that format and expect tools to accept that. Either you train all the humans to format the structure by hand (e.g. \"a.b.c\") or you change the tools to accept the stringy format. At which point, arguably, you should just keep it as an unparsed stringy thing the whole way through, since you cannot have conversion errors, and you don\u0027t need extra formatting steps.\n\n(even worse would be if different bits of software print this structure differently :O)\n\nSo, I think it\u0027s a careful tradeoff to make. In this case the string format is sufficiently constrained (always has exactly two \".\") and is only intended to be used for direct lookups in e.g. maps (very rarely, if ever, needs to be parsed). So in this case I think the string is fine.",
      "parentUuid": "2fe158e2_8456fd8f",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adbfe3d8_45bf9039",
        "filename": "appengine/auth_service/proto/realms_config.proto",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2020-02-13T23:46:23Z",
      "side": 1,
      "message": "+1 to what Robbie said.\n\nAdditionally I want permissions to exists as \"indivisible atoms\". They are just elements of some global set of all possible permissions, and set elements are compared by identity. It doesn\u0027t even matter that they are structured as \"\u003cservice\u003e.\u003csubject\u003e.\u003cverb\u003e\". Nothing will fundamentally change if we replace them with random strings or sequential numbers or whatever. All this permission system is just a construct on top of set math. Realms are sets of pairs, roles are sets of permissions, configs tell how combine a bunch of sets to get other sets, etc. The final API will basically be \"is (user, permission) in the set RealmPermissions(realm)?\".",
      "parentUuid": "7272571f_41409652",
      "revId": "5330ba5620f45c404f9f3a77111992fed28f1488",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}