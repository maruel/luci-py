{
  "comments": [
    {
      "key": {
        "uuid": "8a6ae60b_79e0d74f",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 891,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-04-01T17:11:06Z",
      "side": 1,
      "message": "Please update to:\n\n  // 100kb is the native page size on the server, so use this for efficiency.\n  // The value is hardcoded in task_result.py as TaskOutput.CHUNK_SIZE.\n\nThis gives a clue to potential reader as to where this comes from.",
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "524bd507_caa00dd8",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 891,
      "author": {
        "id": 1185234
      },
      "writtenOn": "2019-04-01T18:15:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a6ae60b_79e0d74f",
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "100e23e9_89ed18a4",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1134,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-04-01T17:11:06Z",
      "side": 1,
      "message": "Can you point me to the doc where this says this is safe with regards to encoding/escaping? Mostly for my own learning.",
      "range": {
        "startLine": 1134,
        "startChar": 67,
        "endLine": 1134,
        "endChar": 88
      },
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "817d95f0_dab8a97b",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1134,
      "author": {
        "id": 1185234
      },
      "writtenOn": "2019-04-01T18:15:23Z",
      "side": 1,
      "message": "lit-html will not do anything fancy/magical for escaping/encoding. Since I know the id is [a-z0-9]+ and stdoutOffset and requst size are ints, I feel safe doing this.  Otherwise, I\u0027d need to breakout window.encodeURIComponent or similar",
      "parentUuid": "100e23e9_89ed18a4",
      "range": {
        "startLine": 1134,
        "startChar": 67,
        "endLine": 1134,
        "endChar": 88
      },
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7bbf790_1a179a24",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1134,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-04-01T18:29:45Z",
      "side": 1,
      "message": "Ok :( I\u0027m not super excited about \"knowing that it\u0027s safe\", because next thing is someone adds user supplied text field or whatever and then escaping blows up, or really just copy pasting.",
      "parentUuid": "817d95f0_dab8a97b",
      "range": {
        "startLine": 1134,
        "startChar": 67,
        "endLine": 1134,
        "endChar": 88
      },
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a48d835_2b576077",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1134,
      "author": {
        "id": 1185234
      },
      "writtenOn": "2019-04-01T18:37:43Z",
      "side": 1,
      "message": "To be clear, this isn\u0027t even lit-html, it\u0027s just normal JS string concatenation \nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\n\nIf we are worried about people copying/pasting this into a bad place, we should also be concerned about them copying and pasting the equivalent\n\u0027/_ah/api/swarming/v1/task/\u0027 + this._taskId + \u0027/stdout?offset\u0027...\nwhich, I don\u0027t think is too much of a concern.",
      "parentUuid": "c7bbf790_1a179a24",
      "range": {
        "startLine": 1134,
        "startChar": 67,
        "endLine": 1134,
        "endChar": 88
      },
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b1fab04_391f625a",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1134,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-04-01T18:39:45Z",
      "side": 1,
      "message": "Ok",
      "parentUuid": "3a48d835_2b576077",
      "range": {
        "startLine": 1134,
        "startChar": 67,
        "endLine": 1134,
        "endChar": 88
      },
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46263fb0_8f807b82",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1146,
      "author": {
        "id": 1000487
      },
      "writtenOn": "2019-04-01T17:11:06Z",
      "side": 1,
      "message": "I think this should be:\n\n  if (s.length \u003c STDOUT_REQUEST_SIZE) {\n\nso that fetching a byte doesn\u0027t imply two consecutive requests. So this is closer to the non running case.",
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83dcd9f8_45385fe1",
        "filename": "appengine/swarming/ui2/modules/task-page/task-page.js",
        "patchSetId": 3
      },
      "lineNbr": 1146,
      "author": {
        "id": 1185234
      },
      "writtenOn": "2019-04-01T18:15:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46263fb0_8f807b82",
      "revId": "f2cde277c337f0a4ee3f16fdc46d22d94870976d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}