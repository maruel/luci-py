{
  "comments": [
    {
      "key": {
        "uuid": "4923c415_d4585727",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2020-05-18T06:02:59Z",
      "side": 1,
      "message": "I wonder if this is some implementation details regarding how swarming allocates task IDs. (e.g. the last digit means the i-th try?) If so, can we wrap this test logic somewhere, or just give it a meaningful name (probably in a separate CL, though)",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4ebeab3_89e57ef8",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T06:16:26Z",
      "side": 1,
      "message": "I think the response from client_create_task_raw includes invocation name?",
      "parentUuid": "4923c415_d4585727",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b890f3c1_602e060c",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T06:18:55Z",
      "side": 1,
      "message": "nvm about my comment. It\u0027s related to the expected invocation below, not related to create_invocation_async.",
      "parentUuid": "b4ebeab3_89e57ef8",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5f92a8e_3e0edbce",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T06:22:15Z",
      "side": 1,
      "message": "I think the parameter of create_invocation_async is implementation detail, and so no need to check. assert_called_once is enough.",
      "parentUuid": "b890f3c1_602e060c",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1532554c_ce45811e",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1375000
      },
      "writtenOn": "2020-05-18T07:30:19Z",
      "side": 1,
      "message": "Hmm I\u0027m not really talking about the invocation part, but rather the task ID. i.e., we need to assert the last digit is 0, then manually change that to \u00271\u0027 to verify that it\u0027s called. To me this seems to be an impl detail",
      "parentUuid": "e5f92a8e_3e0edbce",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a039fb8c_60c6ec40",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T07:37:50Z",
      "side": 1,
      "message": "\u003e Hmm I\u0027m not really talking about the invocation part, \nSorry for the confusion. That\u0027s not related this thread.\n\n\u003e  we need to assert the last digit is 0, then manually change that to \u00271\u0027 to verify that it\u0027s called. To me this seems to be an impl detail\nI agree with you.",
      "parentUuid": "1532554c_ce45811e",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4301ed04_53956c37",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 615,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-05-18T09:30:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a039fb8c_60c6ec40",
      "range": {
        "startLine": 611,
        "startChar": 6,
        "endLine": 615,
        "endChar": 0
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bee6a639_540bded7",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T05:20:30Z",
      "side": 1,
      "message": "Not fixed?",
      "range": {
        "startLine": 621,
        "startChar": 46,
        "endLine": 621,
        "endChar": 50
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "356a676f_02e611c5",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-05-18T06:04:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bee6a639_540bded7",
      "range": {
        "startLine": 621,
        "startChar": 46,
        "endLine": 621,
        "endChar": 50
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23924a1b_d037db66",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T06:22:15Z",
      "side": 1,
      "message": "The invocation name in the response of client_create_task_raw should be used, instead of generating invocation name here?",
      "range": {
        "startLine": 621,
        "startChar": 28,
        "endLine": 621,
        "endChar": 65
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66621d53_7fdbcdd2",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-05-18T09:30:37Z",
      "side": 1,
      "message": "client_create_task_raw doesn\u0027t have invocation name inn its response?",
      "parentUuid": "23924a1b_d037db66",
      "range": {
        "startLine": 621,
        "startChar": 28,
        "endLine": 621,
        "endChar": 65
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71d1efc6_40aa3be2",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2020-05-18T12:41:50Z",
      "side": 1,
      "message": "I thought TaskRequestMetadata.task_result.resultdb_info.invocation exists in the response when resultdb is enabled in a request.\n\nhttps://source.chromium.org/chromium/infra/infra/+/master:luci/appengine/swarming/swarming_rpcs.py;l\u003d763?q\u003df:swarming_rpcs.py\u0026ss\u003dchromium\u0026originalUrl\u003dhttps:%2F%2Fcs.chromium.org%2F\n\nI\u0027m talking about this part in the design doc.\nhttp://shortn/_lzJpROyz9t\n\nPlease correct me if I\u0027m wrong.",
      "parentUuid": "66621d53_7fdbcdd2",
      "range": {
        "startLine": 621,
        "startChar": 28,
        "endLine": 621,
        "endChar": 65
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71648913_36e6b060",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-05-18T13:00:57Z",
      "side": 1,
      "message": "Hmm, seems like result is returned only when state is not pending.\nhttps://cs.chromium.org/chromium/infra/luci/appengine/swarming/handlers_endpoints.py?l\u003d569\u0026rcl\u003dd2625c14a5179db7efe9ebf96b80f3151d31a615\n\nCome from https://codereview.chromium.org/1455883002\n\nLet me consider how to do that\n1. return result always\n2. return result when resutldb is enabled\n3. other?",
      "parentUuid": "71d1efc6_40aa3be2",
      "range": {
        "startLine": 621,
        "startChar": 28,
        "endLine": 621,
        "endChar": 65
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3655628_ccde6084",
        "filename": "appengine/swarming/handlers_bot_test.py",
        "patchSetId": 15
      },
      "lineNbr": 621,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2020-05-18T13:05:33Z",
      "side": 1,
      "message": "left question in https://docs.google.com/document/d/1-4JL8cZ06yTb7yhDzXD8nh4FwhUBm1zaQAICQ-JRpus/edit?disco\u003dAAAAGh1TcWc",
      "parentUuid": "71648913_36e6b060",
      "range": {
        "startLine": 621,
        "startChar": 28,
        "endLine": 621,
        "endChar": 65
      },
      "revId": "152a68c88ab23f91ee652bd14d539f68cb44666a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}