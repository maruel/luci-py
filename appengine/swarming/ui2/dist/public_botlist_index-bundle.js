!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/newres/",n(n.s=10)}([function(t,e,n){"use strict";function s(t,e){if(t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}}n.d(e,"a",function(){return s})},function(t,e,n){"use strict";const s=new Map;class i{constructor(t,e,n,s=w){this.strings=t,this.values=e,this.type=n,this.partCallback=s}getHTML(){const t=this.strings.length-1;let e="",n=!0;for(let s=0;s<t;s++){const t=this.strings[s];e+=t;const i=c(t);e+=(n=i>-1?i<t.length:n)?o:a}return e+this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}function r(t,e,n=function(t){let e=s.get(t.type);void 0===e&&(e=new Map,s.set(t.type,e));let n=e.get(t.strings);return void 0===n&&(n=new _(t,t.getTemplateElement()),e.set(t.strings,n)),n}){const i=n(t);let r=e.__templateInstance;if(void 0!==r&&r.template===i&&r._partCallback===t.partCallback)return void r.update(t.values);r=new k(i,t.partCallback,n),e.__templateInstance=r;const a=r._clone();r.update(t.values),y(e,e.firstChild),e.appendChild(a)}const a=`{{lit-${String(Math.random()).slice(2)}}}`,o=`\x3c!--${a}--\x3e`,l=new RegExp(`${a}|${o}`),u=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function c(t){const e=t.lastIndexOf(">");return t.indexOf("<",e+1)>-1?t.length:e}class d{constructor(t,e,n,s,i){this.type=t,this.index=e,this.name=n,this.rawName=s,this.strings=i}}const h=t=>-1!==t.index;class _{constructor(t,e){this.parts=[],this.element=e;const n=this.element.content,s=document.createTreeWalker(n,133,null,!1);let i=-1,r=0;const o=[];let c,h;for(;s.nextNode();){i++,c=h;const e=h=s.currentNode;if(1===e.nodeType){if(!e.hasAttributes())continue;const n=e.attributes;let s=0;for(let t=0;t<n.length;t++)n[t].value.indexOf(a)>=0&&s++;for(;s-- >0;){const s=t.strings[r],a=u.exec(s)[1],o=n.getNamedItem(a),c=o.value.split(l);this.parts.push(new d("attribute",i,o.name,a,c)),e.removeAttribute(o.name),r+=c.length-1}}else if(3===e.nodeType){const t=e.nodeValue;if(t.indexOf(a)<0)continue;const n=e.parentNode,s=t.split(l),u=s.length-1;r+=u;for(let t=0;t<u;t++)n.insertBefore(""===s[t]?document.createComment(""):document.createTextNode(s[t]),e),this.parts.push(new d("node",i++));n.insertBefore(""===s[u]?document.createComment(""):document.createTextNode(s[u]),e),o.push(e)}else if(8===e.nodeType&&e.nodeValue===a){const t=e.parentNode,n=e.previousSibling;null===n||n!==c||n.nodeType!==Node.TEXT_NODE?t.insertBefore(document.createComment(""),e):i--,this.parts.push(new d("node",i++)),o.push(e),null===e.nextSibling?t.insertBefore(document.createComment(""),e):i--,h=c,r++}}for(const t of o)t.parentNode.removeChild(t)}}const f=(t,e)=>p(e)?(e=e(t),m):null===e?void 0:e,p=t=>"function"==typeof t&&!0===t.__litDirective,m={},g=t=>null===t||!("object"==typeof t||"function"==typeof t);class b{constructor(t,e,n,s){this.instance=t,this.element=e,this.name=n,this.strings=s,this.size=s.length-1,this._previousValues=[]}_interpolate(t,e){const n=this.strings,s=n.length-1;let i="";for(let r=0;r<s;r++){i+=n[r];const s=f(this,t[e+r]);if(s&&s!==m&&(Array.isArray(s)||"string"!=typeof s&&s[Symbol.iterator]))for(const t of s)i+=t;else i+=s}return i+n[s]}_equalToPreviousValues(t,e){for(let n=e;n<e+this.size;n++)if(this._previousValues[n]!==t[n]||!g(t[n]))return!1;return!0}setValue(t,e){if(this._equalToPreviousValues(t,e))return;const n=this.strings;let s;2===n.length&&""===n[0]&&""===n[1]?(s=f(this,t[e]),Array.isArray(s)&&(s=s.join(""))):s=this._interpolate(t,e),s!==m&&this.element.setAttribute(this.name,s),this._previousValues=t}}class v{constructor(t,e,n){this.instance=t,this.startNode=e,this.endNode=n,this._previousValue=void 0}setValue(t){if((t=f(this,t))!==m)if(g(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof i?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_setNode(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}_setText(t){const e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}_setTemplateResult(t){const e=this.instance._getTemplate(t);let n;this._previousValue&&this._previousValue.template===e?n=this._previousValue:(n=new k(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(n._clone()),this._previousValue=n),n.update(t.values)}_setIterable(t){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const e=this._previousValue;let n=0;for(const s of t){let t=e[n];if(void 0===t){let s=this.startNode;n>0&&(s=e[n-1].endNode=document.createTextNode(""),this._insert(s)),t=new v(this.instance,s,this.endNode),e.push(t)}t.setValue(s),n++}if(0===n)this.clear(),this._previousValue=void 0;else if(n<e.length){const t=e[n-1];e.length=n,this.clear(t.endNode.previousSibling),t.endNode=this.endNode}}_setPromise(t){this._previousValue=t,t.then(e=>{this._previousValue===t&&this.setValue(e)})}clear(t=this.startNode){y(this.startNode.parentNode,t.nextSibling,this.endNode)}}const w=(t,e,n)=>{if("attribute"===e.type)return new b(t,n,e.name,e.strings);if("node"===e.type)return new v(t,n,n.nextSibling);throw new Error(`Unknown part type ${e.type}`)};class k{constructor(t,e,n){this._parts=[],this.template=t,this._partCallback=e,this._getTemplate=n}update(t){let e=0;for(const n of this._parts)n?void 0===n.size?(n.setValue(t[e]),e++):(n.setValue(t,e),e+=n.size):e++}_clone(){const t=this.template.element.content.cloneNode(!0),e=this.template.parts;if(e.length>0){const n=document.createTreeWalker(t,133,null,!1);let s=-1;for(let t=0;t<e.length;t++){const i=e[t],r=h(i);if(r)for(;s<i.index;)s++,n.nextNode();this._parts.push(r?this._partCallback(this,i,n.currentNode):void 0)}}return t}}const y=(t,e,n=null)=>{let s=e;for(;s!==n;){const e=s.nextSibling;t.removeChild(s),s=e}};n.d(e,"a",function(){return x}),n.d(e,"b",function(){return r});const x=(t,...e)=>new i(t,e,"html",E),E=(t,e,n)=>{if("attribute"===e.type){if("on-"===e.rawName.substr(0,3)){return new class{constructor(t,e,n){this.instance=t,this.element=e,this.eventName=n}setValue(t){const e=f(this,t);e!==this._listener&&(null==e?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=e)}handleEvent(t){"function"==typeof this._listener?this._listener.call(this.element,t):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(t)}}(t,n,e.rawName.slice(3))}const s=e.name.substr(e.name.length-1);if("$"===s){const s=e.name.slice(0,-1);return new b(t,n,s,e.strings)}if("?"===s){return new class extends b{setValue(t,e){const n=this.strings;if(2!==n.length||""!==n[0]||""!==n[1])throw new Error("boolean attributes can only contain a single expression");{const n=f(this,t[e]);if(n===m)return;n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}}(t,n,e.name.slice(0,-1),e.strings)}return new class extends b{setValue(t,e){const n=this.strings;let s;this._equalToPreviousValues(t,e)||((s=2===n.length&&""===n[0]&&""===n[1]?f(this,t[e]):this._interpolate(t,e))!==m&&(this.element[this.name]=s),this._previousValues=t)}}(t,n,e.rawName,e.strings)}return w(t,e,n)}},function(t,e,n){"use strict";function s(t,e=1e4){"object"==typeof t&&(t=t.message||JSON.stringify(t));var n={message:t,duration:e};document.dispatchEvent(new CustomEvent("error-sk",{detail:n,bubbles:!0}))}n.d(e,"a",function(){return s})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});const s=document.createElement("template");class i extends HTMLElement{constructor(){super(),s.innerHTML=`<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">${this.constructor._svg}</svg>`}connectedCallback(){let t=s.content.cloneNode(!0);this.appendChild(t)}}},function(t,e,n){"use strict";var s=n(1),i=n(0),r=(n(22),n(3));window.customElements.define("menu-icon-sk",class extends r.a{static get _svg(){return'<path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>'}}),window.customElements.define("spinner-sk",class extends HTMLElement{connectedCallback(){Object(i.a)(this,"active")}get active(){return this.hasAttribute("active")}set active(t){t?this.setAttribute("active",""):this.removeAttribute("active")}});n(20),n(19);var a=n(2);window.customElements.define("oauth-login",class extends HTMLElement{connectedCallback(){Object(i.a)(this,"client_id"),Object(i.a)(this,"testing_offline"),this._auth_header="",this.testing_offline?this._profile={email:"missing@chromium.org",imageURL:"http://storage.googleapis.com/gd-wagtail-prod-assets/original_images/logo_google_fonts_color_2x_web_64dp.png"}:(this._profile=null,document.addEventListener("oauth-lib-loaded",()=>{gapi.auth2.init({client_id:this.client_id}).then(()=>{this._maybeFireLoginEvent(),this._render()},t=>{console.error(t),Object(a.a)(`Error initializing oauth: ${JSON.stringify(t)}`,1e4)})})),this._render()}static get observedAttributes(){return["client_id","testing_offline"]}get auth_header(){return this._auth_header}get client_id(){return this.getAttribute("client_id")}set client_id(t){return this.setAttribute("client_id",t)}get testing_offline(){return this.getAttribute("testing_offline")}set testing_offline(t){t&&"false"!==t?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}_maybeFireLoginEvent(){let t=gapi.auth2.getAuthInstance().currentUser.get();if(t.isSignedIn()){let e=t.getBasicProfile();this._profile={email:e.getEmail(),imageURL:e.getImageUrl()};let n=t.getAuthResponse(!0),s=`${n.token_type} ${n.access_token}`;return this.dispatchEvent(new CustomEvent("log-in",{detail:{auth_header:s},bubbles:!0})),this._auth_header=s,!0}return this._profile=null,this._auth_header="",!1}_logIn(){if(this.testing_offline)this._auth_header="Bearer 12345678910-boomshakalaka",this.dispatchEvent(new CustomEvent("log-in",{detail:{auth_header:this._auth_header},bubbles:!0})),this._render();else{let t=gapi.auth2.getAuthInstance();t&&t.signIn({scope:"email",prompt:"select_account"}).then(()=>{this._maybeFireLoginEvent()||console.warn("login was not successful; maybe user canceled"),this._render()})}}_logOut(){if(this.testing_offline)this._auth_header="",this._render(),window.location.reload();else{let t=gapi.auth2.getAuthInstance();t&&t.signOut().then(()=>{this._auth_header="",this._profile=null,window.location.reload()})}}_render(){Object(s.b)((t=>t.auth_header?s["a"]` <div> <img class=center id=avatar src="${t._profile.imageURL}" width=30 height=30> <span class=center>${t._profile.email}</span> <span class=center>|</span> <a class=center on-click=${()=>t._logOut()} href="#">Sign out</a> </div>`:s["a"]` <div> <a on-click=${()=>t._logIn()} href="#">Sign in</a> </div>`)(this),this)}attributeChangedCallback(t,e,n){this._render()}});const o=document.createElement("template");o.innerHTML="\n<button class=toggle-button>\n  <menu-icon-sk>\n  </menu-icon-sk>\n</button>\n";const l=document.createElement("template");l.innerHTML="\n<div class=spinner-spacer>\n  <spinner-sk></spinner-sk>\n</div>\n";window.customElements.define("swarming-app",class extends HTMLElement{connectedCallback(){Object(i.a)(this,"client_id"),Object(i.a)(this,"testing_offline"),this._busyTaskCount=0,this._spinner=null,this._loginEle=null,this._addHTML(),this._render()}static get observedAttributes(){return["client_id","testing_offline"]}get busy(){return!!this._busyTaskCount}get client_id(){return this.getAttribute("client_id")}set client_id(t){return this.setAttribute("client_id",t)}get testing_offline(){return this.getAttribute("testing_offline")}set testing_offline(t){t&&"false"!==t?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}addBusyTasks(t){this._busyTaskCount+=t,this._spinner&&this._busyTaskCount>0&&(this._spinner.active=!0)}finishedTask(){this._busyTaskCount--,this._busyTaskCount<=0&&(this._busyTaskCount=0,this._spinner&&(this._spinner.active=!1),this.dispatchEvent(new CustomEvent("busy-end",{bubbles:!0})))}_addHTML(){let t=this.querySelector("header"),e=t&&t.querySelector("aside");if(!(t&&e&&e.classList.contains("hideable")))return;let n=o.content.cloneNode(!0);t.insertBefore(n,t.firstElementChild),(n=t.firstElementChild).addEventListener("click",t=>this._toggleMenu(t,e));let s=l.content.cloneNode(!0);t.insertBefore(s,e),this._spinner=t.querySelector("spinner-sk");let i=document.createElement("span");i.classList.add("grow"),t.appendChild(i),this._loginEle=document.createElement("div"),t.appendChild(this._loginEle)}_toggleMenu(t,e){e.classList.toggle("shown")}_render(){this._loginEle&&Object(s.b)((t=>s["a"]` <oauth-login client_id=${t.client_id} testing_offline=${t.testing_offline}></oauth-login> `)(this),this._loginEle)}attributeChangedCallback(t,e,n){this._render()}});n(18)},function(t,e,n){"use strict";function s(t){if(t.ok)return t.json();throw{message:`Bad network response: ${t.statusText}`,resp:t,status:t.status}}n.d(e,"a",function(){return s})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var s=n(1),i=n(0);class r extends HTMLElement{constructor(t){super(),this._template=t}connectedCallback(){Object(i.a)(this,"client_id"),Object(i.a)(this,"testing_offline")}static get observedAttributes(){return["client_id","testing_offline"]}get client_id(){return this.getAttribute("client_id")}set client_id(t){return this.setAttribute("client_id",t)}get testing_offline(){return this.getAttribute("testing_offline")}set testing_offline(t){t&&"false"!==t?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}render(){Object(s.b)(this._template(this),this)}attributeChangedCallback(t,e,n){this.render()}}},function(t,e){t.exports=function t(e,n){"use strict";var s,i,r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},d=c(e).replace(a,"")||"",h=c(n).replace(a,"")||"",_=d.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=h.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(d.match(l),16)||1!==_.length&&d.match(o)&&Date.parse(d),m=parseInt(h.match(l),16)||p&&h.match(o)&&Date.parse(h)||null;if(m){if(p<m)return-1;if(p>m)return 1}for(var g=0,b=Math.max(_.length,f.length);g<b;g++){if(s=!(_[g]||"").match(u)&&parseFloat(_[g])||_[g]||0,i=!(f[g]||"").match(u)&&parseFloat(f[g])||f[g]||0,isNaN(s)!==isNaN(i))return isNaN(s)?1:-1;if(typeof s!=typeof i&&(s+="",i+=""),s<i)return-1;if(s>i)return 1}return 0}},function(t,e,n){"use strict";var s=n(0);window.customElements.define("toast-sk",class extends HTMLElement{constructor(){super(),this._timer=null}connectedCallback(){this.hasAttribute("duration")||(this.duration=5e3),Object(s.a)(this,"duration")}get duration(){return+this.getAttribute("duration")}set duration(t){this.setAttribute("duration",t)}show(){this.setAttribute("shown",""),this.duration>0&&!this._timer&&(this._timer=window.setTimeout(()=>{this._timer=null,this.hide()},this.duration))}hide(){this.removeAttribute("shown"),this._timer&&(window.clearTimeout(this._timer),this._timer=null)}});n(17);window.customElements.define("error-toast-sk",class extends HTMLElement{connectedCallback(){this.innerHTML="<toast-sk></toast-sk>",this._toast=this.firstElementChild,document.addEventListener("error-sk",this)}disconnectedCallback(){document.removeEventListener("error-sk",this)}handleEvent(t){t.detail.duration&&(this._toast.duration=t.detail.duration),this._toast.textContent=t.detail.message,this._toast.show()}})},,function(t,e,n){"use strict";n.r(e);n(8);var s=n(1),i=n(0),r=(n(22),n(3));function a(t,e,n=!0){Object(i.a)(t,e),void 0===t[e]&&t.hasAttribute(e)&&(t[e]=t.getAttribute(e),n&&t.removeAttribute(e))}window.customElements.define("arrow-drop-down-icon-sk",class extends r.a{static get _svg(){return'<path d="M7 10l5 5 5-5z"/>'}}),window.customElements.define("arrow-drop-up-icon-sk",class extends r.a{static get _svg(){return'<path d="M7 14l5-5 5 5z"/>'}});window.customElements.define("sort-toggle",class extends HTMLElement{constructor(){super()}connectedCallback(){a(this,"current"),a(this,"key"),a(this,"direction"),this.addEventListener("click",()=>{this.toggle()})}get current(){return this._current}set current(t){this._current=t,this.render()}get key(){return this._key}set key(t){this._key=t,this.render()}get direction(){return this._direction}set direction(t){this._direction=t,this.render()}toggle(){"asc"===this.direction?this.direction="desc":this.direction="asc",this.dispatchEvent(new CustomEvent("sort-change",{detail:{direction:this.direction,key:this.key},bubbles:!0}))}render(){Object(s.b)((t=>s["a"]` <arrow-drop-down-icon-sk hidden?=${t.key===t.current&&"asc"===t.direction}></arrow-drop-down-icon-sk> <arrow-drop-up-icon-sk hidden?=${t.key===t.current&&"desc"===t.direction}></arrow-drop-up-icon-sk> `)(this),this)}});n(16),n(4);var o=n(2),l=n(5),u=n(7),c=n.n(u);const d=[{units:"w",delta:604800},{units:"d",delta:86400},{units:"h",delta:3600},{units:"m",delta:60},{units:"s",delta:1}];function h(t,e){for(let n=0;n<e.length-1;n++)if(Math.round(t/e[n+1].delta)*e[n+1].delta/e[n].delta>=1)return Math.round(t/e[n].delta)+e[n].units;let n=e.length-1;return Math.round(t/e[n].delta)+e[n].units}function _(t){if(!t)return{};let e=[],n=0;for(let s in t)e.push(s+": "+t[s]),n+=+t[s];return{average:n=(n/=e.length)?n.toFixed(1):"unknown",zones:e.join(" | ")||"unknown"}}function f(t,e,n){return n=n||"UNKNOWN",m(t,e)||g(t,e)||[n]}function p(t,e,n){if(!e)return console.warn("falsey bot passed into column"),"";let s=w[t];return s?s(e,n):function(t,e){if(e)return t.join(" | ");let n="";for(let e=0;e<t.length;e++)t[e]&&t[e].length>n.length&&(n=t[e]);return n}(f(e,t,"none"),n._verbose)}function m(t,e){if(!t||!t.dimensions||!e)return null;for(let n=0;n<t.dimensions.length;n++)if(t.dimensions[n].key===e)return t.dimensions[n].value;return null}function g(t,e){if(!t||!t.state||!t.state[e])return null;let n=t.state[e];return Array.isArray(n)?n:[n]}const b={id:"Bot Id",mp_lease_id:"Machine Provider Lease Id",task:"Current Task",android_devices:"Android Devices",battery_health:"Battery Health",battery_level:"Battery Level (%)",battery_status:"Battery Status",battery_temperature:"Battery Temp (°C)",battery_voltage:"Battery Voltage (mV)",bot_temperature:"Bot Temp (°C)",cores:"Cores",cpu:"CPU",device:"Non-android Device",device_os:"Device OS",device_temperature:"Device Temp (°C)",device_type:"Device Type",disk_space:"Free Space (MB)",external_ip:"External IP",first_seen:"First Seen",gpu:"GPU",internal_ip:"Internal or Local IP",last_seen:"Last Seen",mp_lease_expires:"Machine Provider Lease Expires",os:"OS",pool:"Pool",running_time:"Swarming Uptime",status:"Status",uptime:"Bot Uptime",xcode_version:"XCode Version"},v={id:(t,e,n)=>t*c()(e.bot_id,n.bot_id)},w={id:(t,e)=>s["a"]`<a target=_blank rel=noopener href=${function(t){return`/bot?id=${t}`}(t.bot_id)}>${t.bot_id}</a>`,status:(t,e)=>{if(t.is_dead)return`Dead. Last seen ${function(t){let e=(("number"==typeof t?t:Date.parse(t))-Date.now())/1e3;return e<0&&(e*=-1),h(e,d)}(t.last_seen_ts)} ago`;if(t.quarantined){let e=g(t,"quarantined");e&&(e=e[0]),e&&"true"!==e&&!0!==e||(e=f(t,"error")[0]),"UNKNOWN"===e&&(e=m(t,"quarantined")||"UNKNOWN");let n=[];return function(t){return t.state.devices||[]}(t).forEach(function(t){"available"!==t.state&&n.push(t.state)}),n.length&&(e+=` [${n.join(",")}]`),`Quarantined: ${e}`}return t.maintenance_msg?`Maintenance: ${t.maintenance_msg}`:"Alive"},task:(t,e)=>t.task_id?s["a"]`<a target=_blank rel=noopener title=${t.task_name} href=${function(t,e){if(t)return e||(t=t.substring(0,t.length-1)+"0"),`/task?id=${t}`}(t.task_id)}>${t.task_id}</a>`:"idle"};var k=n(6);const y=(t,e)=>s["a"]` <tr class$="bot-row ${e._botClass(t)}">${e._cols.map(n=>((t,e,n)=>s["a"]` <td>${p(t,e,n)}</td> `)(n,t,e))}</tr> `,x=t=>s["a"]` <swarming-app id=swapp client_id=${t.client_id} testing_offline=${t.testing_offline}> <header> <div class=title>Swarming Server</div> <aside class=hideable> <a href=/>Home</a> <a href=/botlist>Bot List</a> <a href=/tasklist>Task List</a> </aside> </header> <main> <h1> Hello Botlist</h1> <table class=bot-table>  <!-- https://github.com/Polymer/lit-html#repeatitems-keyfn-template--> <thead><tr>${t._cols.map(e=>((t,e)=>s["a"]` <th>${b[t]||t} <sort-toggle key=${t} current=${e._sort} direction=${e._dir}></sort-toggle> </th> `)(e,t))}</tr></thead> <tbody>${t._sortBots().map(e=>y(e,t))}</tbody> </table> </main> <footer><error-toast-sk></error-toast-sk></footer> </swarming-app>`;window.customElements.define("bot-list",class extends k.a{constructor(){super(x),this._bots=[],this._cols=["id","task","os","status"],this._limit=100,this._sort="id",this._dir="asc",this._verbose=!1}connectedCallback(){super.connectedCallback(),this.addEventListener("log-in",t=>{this._auth_header=t.detail.auth_header,this._update()}),this.addEventListener("sort-change",t=>{console.log("saw sort-change",t.detail),this._sort=t.detail.key,this._dir=t.detail.direction,this.render()}),this._serverVersion="888035583d659dbf017e4ddcda0054a8d5cec814",this.render()}_botClass(t){let e="";return t.is_dead&&(e+="dead "),t.quarantined&&(e+="quarantined "),t.maintenance_msg&&(e+="maintenance "),t.version!==this._serverVersion&&(e+="old_version"),e}_sortBots(){return console.time("_sortBots"),function(t,e){t&&e?(t.forEach((t,e)=>{void 0!==t&&null!==t&&(t.__sortIdx=e)}),t.sort((t,n)=>{if(void 0===t||null===t)return void 0===n||null===n?0:1;if(void 0===n||null===n)return-1;let s=e(t,n);return 0===s?t.__sortIdx-n.__sortIdx:s})):console.warn("missing arguments to stableSort",t,e)}(this._bots,(t,e)=>{let n=this._sort;if(!n)return 0;let s=1;"desc"===this._dir&&(s=-1);let i=v[n];if(i)return i(s,t,e);let r=p(n,t,this);"none"===r&&(r="ZZZ");var a=p(n,e,this);return"none"===a&&(a="ZZZ"),s*c()(r,a)}),console.timeEnd("_sortBots"),this._bots}_update(){if(!this._auth_header)return;let t={headers:{authorization:this._auth_header}},e=this.firstElementChild;e.addBusyTasks(1),fetch("/_ah/api/swarming/v1/bots/list",t).then(l.a).then(t=>{this._bots=function(t){return t.forEach(t=>{t.state=t.state&&JSON.parse(t.state)||{};let e=t.state.disks||{},n=Object.keys(e);if(n.length){t.disks=[];for(let s=0;s<n.length;s++)t.disks.push({id:n[s],mb:e[n[s]].free_mb});t.disks.sort(function(t,e){return e.mb-t.mb})}else t.disks=[{id:"unknown",mb:0}];t.state.temp=_(t.state.temp);let s=[],i=t&&t.state&&t.state.devices||{};for(let e in i){let n=i[e];n.serial=e,n.okay="available"===n.state;let r=m(t,"device_type")||["unknown"];n.device_type=r[0],n.temp=_(n.temp),s.push(n)}s.sort((t,e)=>t.serial<e.serial?-1:t.serial>e.serial?1:0),t.state.devices=s}),t}(t.items),this.render(),e.finishedTask()}).catch(t=>{console.error(t),Object(o.a)(t),e.finishedTask()})}});n(15)},,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e){}]);