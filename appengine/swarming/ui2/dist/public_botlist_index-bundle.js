!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/newres/",s(s.s=9)}([function(e,t,s){"use strict";const i=new WeakMap,n=e=>(i.set(e,!0),e),r=e=>"function"==typeof e&&i.has(e),a=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,o=(e,t,s=null,i=null)=>{let n=t;for(;n!==s;){const t=n.nextSibling;e.insertBefore(n,i),n=t}},l=(e,t,s=null)=>{let i=t;for(;i!==s;){const t=i.nextSibling;e.removeChild(i),i=t}},d={},c=`{{lit-${String(Math.random()).slice(2)}}}`,h=`\x3c!--${c}--\x3e`,u=new RegExp(`${c}|${h}`),p=(()=>{const e=document.createElement("div");return e.setAttribute("style","{{bad value}}"),"{{bad value}}"!==e.getAttribute("style")})();class _{constructor(e,t){this.parts=[],this.element=t;let s=-1,i=0;const n=[],r=t=>{const a=t.content,o=document.createTreeWalker(a,133,null,!1);let l,d;for(;o.nextNode();){s++,l=d;const t=d=o.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const n=t.attributes;let r=0;for(let e=0;e<n.length;e++)n[e].value.indexOf(c)>=0&&r++;for(;r-- >0;){const n=e.strings[i],r=g.exec(n)[2],a=p&&"style"===r?"style$":/^[a-zA-Z-]*$/.test(r)?r:r.toLowerCase(),o=t.getAttribute(a).split(u);this.parts.push({type:"attribute",index:s,name:r,strings:o}),t.removeAttribute(a),i+=o.length-1}}"TEMPLATE"===t.tagName&&r(t)}else if(3===t.nodeType){const e=t.nodeValue;if(e.indexOf(c)<0)continue;const r=t.parentNode,a=e.split(u),o=a.length-1;i+=o;for(let e=0;e<o;e++)r.insertBefore(""===a[e]?f():document.createTextNode(a[e]),t),this.parts.push({type:"node",index:s++});r.insertBefore(""===a[o]?f():document.createTextNode(a[o]),t),n.push(t)}else if(8===t.nodeType)if(t.nodeValue===c){const e=t.parentNode,r=t.previousSibling;null===r||r!==l||r.nodeType!==Node.TEXT_NODE?e.insertBefore(f(),t):s--,this.parts.push({type:"node",index:s++}),n.push(t),null===t.nextSibling?e.insertBefore(f(),t):s--,d=l,i++}else{let e=-1;for(;-1!==(e=t.nodeValue.indexOf(c,e+1));)this.parts.push({type:"node",index:-1})}}};r(t);for(const e of n)e.parentNode.removeChild(e)}}const m=e=>-1!==e.index,f=()=>document.createComment(""),g=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,s){this._parts=[],this.template=e,this.processor=t,this._getTemplate=s}update(e){let t=0;for(const s of this._parts)void 0!==s&&s.setValue(e[t]),t++;for(const e of this._parts)void 0!==e&&e.commit()}_clone(){const e=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let s=0,i=0;const n=e=>{const r=document.createTreeWalker(e,133,null,!1);let a=r.nextNode();for(;s<t.length&&null!==a;){const e=t[s];if(m(e))if(i===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this._getTemplate);e.insertAfterNode(a),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(a,e.name,e.strings));s++}else i++,"TEMPLATE"===a.nodeName&&n(a.content),a=r.nextNode();else this._parts.push(void 0),s++}};return n(e),a&&(document.adoptNode(e),customElements.upgrade(e)),e}}class v{constructor(e,t,s,i){this.strings=e,this.values=t,this.type=s,this.processor=i}getHTML(){const e=this.strings.length-1;let t="",s=!0;for(let i=0;i<e;i++){const e=this.strings[i];t+=e;const n=e.lastIndexOf(">");!(s=(n>-1||s)&&-1===e.indexOf("<",n+1))&&p&&(t=t.replace(g,(e,t,s,i)=>"style"===s?`${t}style$${i}`:e)),t+=s?h:c}return t+this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class y extends v{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,s=t.firstChild;return t.removeChild(s),o(t,s.firstChild),e}}const k=e=>null===e||!("object"==typeof e||"function"==typeof e);class w{constructor(e,t,s){this.dirty=!0,this.element=e,this.name=t,this.strings=s,this.parts=[];for(let e=0;e<s.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new x(this)}_getValue(){const e=this.strings,t=e.length-1;let s="";for(let i=0;i<t;i++){s+=e[i];const t=this.parts[i];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const t of e)s+="string"==typeof t?t:String(t);else s+="string"==typeof e?e:String(e)}}return s+e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class x{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===d||k(e)&&e===this.value||(this.value=e,r(e)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const e=this.value;this.value=d,e(this)}this.value!==d&&this.committer.commit()}}class E{constructor(e){this.value=void 0,this._pendingValue=void 0,this.templateFactory=e}appendInto(e){this.startNode=e.appendChild(f()),this.endNode=e.appendChild(f())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=f()),e._insert(this.endNode=f())}insertAfterPart(e){e._insert(this.startNode=f()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;r(this._pendingValue);){const e=this._pendingValue;this._pendingValue=d,e(this)}const e=this._pendingValue;e!==d&&(k(e)?e!==this.value&&this._commitText(e):e instanceof v?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):void 0!==e.then?this._commitPromise(e):this._commitText(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}_commitTemplateResult(e){const t=this.templateFactory(e);if(this.value&&this.value.template===t)this.value.update(e.values);else{const s=new b(t,e.processor,this.templateFactory),i=s._clone();s.update(e.values),this._commitNode(i),this.value=s}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let s,i=0;for(const n of e)void 0===(s=t[i])&&(s=new E(this.templateFactory),t.push(s),0===i?s.appendIntoPart(this):s.insertAfterPart(t[i-1])),s.setValue(n),s.commit(),i++;i<t.length&&(t.length=i,this.clear(s&&s.endNode))}_commitPromise(e){this.value=e,e.then(t=>{this.value===e&&(this.setValue(t),this.commit())})}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class C{constructor(e,t,s){if(this.value=void 0,this._pendingValue=void 0,2!==s.length||""!==s[0]||""!==s[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=s}setValue(e){this._pendingValue=e}commit(){for(;r(this._pendingValue);){const e=this._pendingValue;this._pendingValue=d,e(this)}if(this._pendingValue===d)return;const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=d}}class A extends w{constructor(e,t,s){super(e,t,s),this.single=2===s.length&&""===s[0]&&""===s[1]}_createPart(){return new T(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class T extends x{}class ${constructor(e,t){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t}setValue(e){this._pendingValue=e}commit(){for(;r(this._pendingValue);){const e=this._pendingValue;this._pendingValue=d,e(this)}this._pendingValue!==d&&(null==this._pendingValue!=(null==this.value)&&(null==this._pendingValue?this.element.removeEventListener(this.eventName,this):this.element.addEventListener(this.eventName,this)),this.value=this._pendingValue,this._pendingValue=d)}handleEvent(e){"function"==typeof this.value?this.value.call(this.element,e):"function"==typeof this.value.handleEvent&&this.value.handleEvent(e)}}class L{handleAttributeExpressions(e,t,s){const i=t[0];return"."===i?new A(e,t.slice(1),s).parts:"@"===i?[new $(e,t.slice(1))]:"?"===i?[new C(e,t.slice(1),s)]:new w(e,t,s).parts}handleTextExpression(e){return new E(e)}}const N=new L;function O(e){let t=M.get(e.type);void 0===t&&(t=new Map,M.set(e.type,t));let s=t.get(e.strings);return void 0===s&&(s=new _(e,e.getTemplateElement()),t.set(e.strings,s)),s}const M=new Map,S=new WeakMap;function I(e,t,s=O){let i=S.get(t);void 0===i&&(l(t,t.firstChild),S.set(t,i=new E(s)),i.appendInto(t)),i.setValue(e),i.commit()}s.d(t,"a",function(){return V}),s.d(t,!1,function(){return v}),s.d(t,!1,function(){return y}),s.d(t,!1,function(){return c}),s.d(t,!1,function(){return h}),s.d(t,!1,function(){return u}),s.d(t,!1,function(){return p}),s.d(t,!1,function(){return _}),s.d(t,!1,function(){return m}),s.d(t,!1,function(){return f}),s.d(t,!1,function(){return g}),s.d(t,!1,function(){return L}),s.d(t,!1,function(){return N}),s.d(t,!1,function(){return b}),s.d(t,!1,function(){return d}),s.d(t,!1,function(){return k}),s.d(t,!1,function(){return w}),s.d(t,!1,function(){return x}),s.d(t,!1,function(){return E}),s.d(t,!1,function(){return C}),s.d(t,!1,function(){return A}),s.d(t,!1,function(){return T}),s.d(t,!1,function(){return $}),s.d(t,!1,function(){return a}),s.d(t,!1,function(){return o}),s.d(t,!1,function(){return l}),s.d(t,!1,function(){return n}),s.d(t,!1,function(){return r}),s.d(t,!1,function(){return S}),s.d(t,"b",function(){return I}),s.d(t,!1,function(){return O}),s.d(t,!1,function(){return M});const V=(e,...t)=>new v(e,t,"html",N)},function(e,t,s){"use strict";function i(e,t){if(e.hasOwnProperty(t)){let s=e[t];delete e[t],e[t]=s}}s.d(t,"a",function(){return i})},function(e,t,s){"use strict";function i(e,t=1e4){"object"==typeof e&&(e=e.message||JSON.stringify(e));var s={message:e,duration:t};document.dispatchEvent(new CustomEvent("error-sk",{detail:s,bubbles:!0}))}s.d(t,"a",function(){return i})},function(e,t,s){"use strict";function i(e){if(e.ok)return e.json();throw{message:`Bad network response: ${e.statusText}`,resp:e,status:e.status}}s.d(t,"a",function(){return i})},function(e,t,s){"use strict";var i=s(2),n=s(0),r=s(3),a=s(1);s(24);const o=document.createElement("template");o.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',window.customElements.define("menu-icon-sk",class extends HTMLElement{connectedCallback(){let e=o.content.cloneNode(!0);this.appendChild(e)}}),window.customElements.define("spinner-sk",class extends HTMLElement{connectedCallback(){Object(a.a)(this,"active")}get active(){return this.hasAttribute("active")}set active(e){e?this.setAttribute("active",""):this.removeAttribute("active")}});s(22),s(21);window.customElements.define("oauth-login",class extends HTMLElement{connectedCallback(){Object(a.a)(this,"client_id"),Object(a.a)(this,"testing_offline"),this._auth_header="",this.testing_offline?this._profile={email:"missing@chromium.org",imageURL:"http://storage.googleapis.com/gd-wagtail-prod-assets/original_images/logo_google_fonts_color_2x_web_64dp.png"}:(this._profile=null,document.addEventListener("oauth-lib-loaded",()=>{gapi.auth2.init({client_id:this.client_id}).then(()=>{this._maybeFireLoginEvent(),this._render()},e=>{console.error(e),Object(i.a)(`Error initializing oauth: ${JSON.stringify(e)}`,1e4)})})),this._render()}static get observedAttributes(){return["client_id","testing_offline"]}get auth_header(){return this._auth_header}get client_id(){return this.getAttribute("client_id")}set client_id(e){return this.setAttribute("client_id",e)}get testing_offline(){return this.hasAttribute("testing_offline")}set testing_offline(e){e?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}_maybeFireLoginEvent(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e.isSignedIn()){let t=e.getBasicProfile();this._profile={email:t.getEmail(),imageURL:t.getImageUrl()};let s=e.getAuthResponse(!0),i=`${s.token_type} ${s.access_token}`;return this.dispatchEvent(new CustomEvent("log-in",{detail:{auth_header:i},bubbles:!0})),this._auth_header=i,!0}return this._profile=null,this._auth_header="",!1}_logIn(){if(this.testing_offline)this._auth_header="Bearer 12345678910-boomshakalaka",this.dispatchEvent(new CustomEvent("log-in",{detail:{auth_header:this._auth_header},bubbles:!0})),this._render();else{let e=gapi.auth2.getAuthInstance();e&&e.signIn({scope:"email",prompt:"select_account"}).then(()=>{this._maybeFireLoginEvent()||console.warn("login was not successful; maybe user canceled"),this._render()})}}_logOut(){if(this.testing_offline)this._auth_header="",this._render(),window.location.reload();else{let e=gapi.auth2.getAuthInstance();e&&e.signOut().then(()=>{this._auth_header="",this._profile=null,window.location.reload()})}}_render(){Object(n.b)((e=>e.auth_header?n["a"]` <div> <img class=center id=avatar src="${e._profile.imageURL}" width=30 height=30> <span class=center>${e._profile.email}</span> <span class=center>|</span> <a class=center @click=${()=>e._logOut()} href="#">Sign out</a> </div>`:n["a"]` <div> <a @click=${()=>e._logIn()} href="#">Sign in</a> </div>`)(this),this)}attributeChangedCallback(e,t,s){this._render()}});const l=document.createElement("template");l.innerHTML="\n<button class=toggle-button>\n  <menu-icon-sk>\n  </menu-icon-sk>\n</button>\n";const d=document.createElement("template");d.innerHTML="\n<div class=spinner-spacer>\n  <spinner-sk></spinner-sk>\n</div>\n";window.customElements.define("swarming-app",class extends HTMLElement{constructor(){super(),this._busyTaskCount=0,this._spinner=null,this._dynamicEle=null,this._auth_header="",this._server_details={server_version:"You must log in to see more details",bot_version:""},this._permissions={}}connectedCallback(){Object(a.a)(this,"client_id"),Object(a.a)(this,"testing_offline"),this._addHTML(),this.addEventListener("log-in",e=>{this._auth_header=e.detail.auth_header,this._fetch()}),this._render()}static get observedAttributes(){return["client_id","testing_offline"]}get busy(){return!!this._busyTaskCount}get permissions(){return this._permissions}get server_details(){return this._server_details}get client_id(){return this.getAttribute("client_id")}set client_id(e){return this.setAttribute("client_id",e)}get testing_offline(){return this.hasAttribute("testing_offline")}set testing_offline(e){e?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}addBusyTasks(e){this._busyTaskCount+=e,this._spinner&&this._busyTaskCount>0&&(this._spinner.active=!0)}finishedTask(){this._busyTaskCount--,this._busyTaskCount<=0&&(this._busyTaskCount=0,this._spinner&&(this._spinner.active=!1),this.dispatchEvent(new CustomEvent("busy-end",{bubbles:!0})))}_addHTML(){let e=this.querySelector("header"),t=e&&e.querySelector("aside");if(!(e&&t&&t.classList.contains("hideable")))return;let s=l.content.cloneNode(!0);e.insertBefore(s,e.firstElementChild),(s=e.firstElementChild).addEventListener("click",e=>this._toggleMenu(e,t));let i=d.content.cloneNode(!0);e.insertBefore(i,t),this._spinner=e.querySelector("spinner-sk");let n=document.createElement("span");n.classList.add("grow"),e.appendChild(n),this._dynamicEle=document.createElement("div"),this._dynamicEle.classList.add("right"),e.appendChild(this._dynamicEle)}_toggleMenu(e,t){t.classList.toggle("shown")}_fetch(){if(!this._auth_header)return;this._server_details={server_version:"<loading>",bot_version:"<loading>"};let e={headers:{authorization:this._auth_header}};this.addBusyTasks(2),fetch("/_ah/api/swarming/v1/server/details",e).then(r.a).then(e=>{this._server_details=e,this._render(),this.dispatchEvent(new CustomEvent("server-details-loaded",{bubbles:!0})),this.finishedTask()}).catch(e=>{403===e.status?(this._server_details={server_version:"User unauthorized - try logging in with a different account",bot_version:""},this._render()):(console.error(e),Object(i.a)(`Unexpected error loading details: ${e.message}`,5e3)),this.finishedTask()}),fetch("/_ah/api/swarming/v1/server/permissions",e).then(r.a).then(e=>{this._permissions=e,this._render(),this.dispatchEvent(new CustomEvent("permissions-loaded",{bubbles:!0})),this.finishedTask()}).catch(e=>{403!==e.status&&(console.error(e),Object(i.a)(`Unexpected error loading permissions: ${e.message}`,5e3)),this.finishedTask()})}_render(){this._dynamicEle&&Object(n.b)((e=>n["a"]` <div class=server-version> Server: <a href=${function(e){if(!e||!e.server_version)return"#";var t=e.server_version.split("-");return 2!==t.length?"#":`https://chromium.googlesource.com/infra/luci/luci-py/+/${t[1]}`}(e._server_details)}> ${e._server_details.server_version} </a> </div> <oauth-login client_id=${e.client_id} ?testing_offline=${e.testing_offline}> </oauth-login> `)(this),this._dynamicEle)}attributeChangedCallback(e,t,s){this._render()}});s(20)},function(e,t,s){"use strict";s.d(t,"a",function(){return a});var i=s(2),n=s(0),r=s(1);class a extends HTMLElement{constructor(e){super(),this._template=e,this._app=null,this._auth_header="",this._notAuthorized=!1}connectedCallback(){Object(r.a)(this,"client_id"),Object(r.a)(this,"testing_offline"),this.addEventListener("log-in",e=>{this._auth_header=e.detail.auth_header})}static get observedAttributes(){return["client_id","testing_offline"]}get app(){return this._app}get auth_header(){return this._auth_header}get loggedInAndAuthorized(){return!!this._auth_header&&!this._notAuthorized}get permissions(){return this._app&&this._app.permissions||{}}get server_details(){return this._app&&this._app.server_details||{}}get client_id(){return this.getAttribute("client_id")}set client_id(e){return this.setAttribute("client_id",e)}get testing_offline(){return this.hasAttribute("testing_offline")}set testing_offline(e){e?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}fetchError(e,t){403===e.status?(this._message="User unauthorized - try logging in with a different account",this._notAuthorized=!0,this.render()):(console.error(e),Object(i.a)(`Unexpected error loading ${t}: ${e.message}`,5e3)),this._app.finishedTask()}render(){Object(n.b)(this._template(this),this),this._app||(this._app=this.firstElementChild,Object(n.b)(this._template(this),this))}attributeChangedCallback(e,t,s){this.render()}}},function(e,t){e.exports=function e(t,s){"use strict";var i,n,r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,d=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(a,"")||"",u=c(s).replace(a,"")||"",p=h.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),_=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(l),16)||1!==p.length&&h.match(o)&&Date.parse(h),f=parseInt(u.match(l),16)||m&&u.match(o)&&Date.parse(u)||null;if(f){if(m<f)return-1;if(m>f)return 1}for(var g=0,b=Math.max(p.length,_.length);g<b;g++){if(i=!(p[g]||"").match(d)&&parseFloat(p[g])||p[g]||0,n=!(_[g]||"").match(d)&&parseFloat(_[g])||_[g]||0,isNaN(i)!==isNaN(n))return isNaN(i)?1:-1;if(typeof i!=typeof n&&(i+="",n+=""),i<n)return-1;if(i>n)return 1}return 0}},function(e,t,s){"use strict";var i=s(1);window.customElements.define("toast-sk",class extends HTMLElement{constructor(){super(),this._timer=null}connectedCallback(){this.hasAttribute("duration")||(this.duration=5e3),Object(i.a)(this,"duration")}get duration(){return+this.getAttribute("duration")}set duration(e){this.setAttribute("duration",e)}show(){this.setAttribute("shown",""),this.duration>0&&!this._timer&&(this._timer=window.setTimeout(()=>{this._timer=null,this.hide()},this.duration))}hide(){this.removeAttribute("shown"),this._timer&&(window.clearTimeout(this._timer),this._timer=null)}});s(18);window.customElements.define("error-toast-sk",class extends HTMLElement{connectedCallback(){this.innerHTML="<toast-sk></toast-sk>",this._toast=this.firstElementChild,document.addEventListener("error-sk",this)}disconnectedCallback(){document.removeEventListener("error-sk",this)}handleEvent(e){e.detail.duration&&(this._toast.duration=e.detail.duration),this._toast.textContent=e.detail.message,this._toast.show()}})},,function(e,t,s){"use strict";s.r(t);var i=s(0),n=s(3),r=s(6),a=s.n(r);function o(e){var t=[];return Object.keys(e).sort().forEach(function(s){Array.isArray(e[s])?e[s].forEach(function(e){t.push(encodeURIComponent(s)+"="+encodeURIComponent(e))}):"object"==typeof e[s]?t.push(encodeURIComponent(s)+"="+encodeURIComponent(o(e[s]))):t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]))}),t.join("&")}const l=e=>JSON.parse(JSON.stringify(e));function d(e,t){let s={};return Object.keys(e).forEach(function(i){(function(e,t){if(typeof e!=typeof t)return!1;let s=typeof e;return"string"===s||"boolean"===s||"number"===s?e===t:"object"===s?Array.isArray(s)?JSON.stringify(e)===JSON.stringify(t):o(e)===o(t):void 0})(e[i],t[i])||(s[i]=e[i])}),s}const c=new Promise(function(e,t){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)});function h(e,t){let s=l(e()),i=!1;const n=()=>{i=!0;let e=function e(t,s){s=s||{};for(var i={},n=t.split("&"),r=0;r<n.length;r++){var a=n[r].split("=",2);if(2==a.length){var o=decodeURIComponent(a[0]),l=decodeURIComponent(a[1]);if(s.hasOwnProperty(o))switch(typeof s[o]){case"boolean":i[o]="true"==l;break;case"number":i[o]=Number(l);break;case"object":if(Array.isArray(s[o])){var d=i[o]||[];d.push(l),i[o]=d}else i[o]=e(l,s[o]);break;case"string":i[o]=l;break;default:i[o]=l}else i[o]=l}}return i}(window.location.search.slice(1),s);t(function(e,t){let s={};return Object.keys(t).forEach(function(i){e.hasOwnProperty(i)?s[i]=l(e[i]):s[i]=l(t[i])}),s}(e,s))};return c.then(n),window.addEventListener("popstate",n),()=>{if(!i)return;let t=o(d(e(),s));history.pushState(null,"",window.location.origin+window.location.pathname+"?"+t)}}var u=s(1);window.customElements.define("checkbox-sk",class extends HTMLElement{get _role(){return"checkbox"}static get observedAttributes(){return["checked","disabled","name","label"]}connectedCallback(){this.innerHTML=`<label><input type=${this._role}></input><span class=box></span><span class=label></span></label>`,this._label=this.querySelector(".label"),this._input=this.querySelector("input"),Object(u.a)(this,"checked"),Object(u.a)(this,"disabled"),Object(u.a)(this,"name"),Object(u.a)(this,"label"),this._input.checked=this.checked,this._input.disabled=this.disabled,this._input.setAttribute("name",this.getAttribute("name")),this._label.textContent=this.getAttribute("label")}get checked(){return this.hasAttribute("checked")}set checked(e){let t=!!e;this._input.checked=t,e?this.setAttribute("checked",""):this.removeAttribute("checked")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){let t=!!e;this._input.disabled=t,t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get name(){return this._input.getAttribute("name")}set name(e){this.setAttribute("name",e),this._input.setAttribute("name",e)}get label(){return this._input.getAttribute("label")}set label(e){this.setAttribute("label",e),this._input.setAttribute("label",e)}attributeChangedCallback(e,t,s){if(!this._input)return;let i=null!=s;switch(e){case"checked":this._input.checked=i;break;case"disabled":this._input.disabled=i;break;case"name":this._input.name=s;break;case"label":this._label.textContent=s}}});s(19),s(7),s(24);const p=document.createElement("template");p.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>',window.customElements.define("arrow-forward-icon-sk",class extends HTMLElement{connectedCallback(){let e=p.content.cloneNode(!0);this.appendChild(e)}});const _=document.createElement("template");_.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/></svg>',window.customElements.define("expand-less-icon-sk",class extends HTMLElement{connectedCallback(){let e=_.content.cloneNode(!0);this.appendChild(e)}});const m=document.createElement("template");m.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>',window.customElements.define("expand-more-icon-sk",class extends HTMLElement{connectedCallback(){let e=m.content.cloneNode(!0);this.appendChild(e)}});const f=document.createElement("template");f.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>',window.customElements.define("remove-circle-outline-icon-sk",class extends HTMLElement{connectedCallback(){let e=f.content.cloneNode(!0);this.appendChild(e)}});const g=document.createElement("template");g.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>',window.customElements.define("search-icon-sk",class extends HTMLElement{connectedCallback(){let e=g.content.cloneNode(!0);this.appendChild(e)}}),window.customElements.define("select-sk",class extends HTMLElement{constructor(){super(),this._obs=new MutationObserver(()=>this._bubbleUp()),this._selection=-1}connectedCallback(){Object(u.a)(this,"selection"),Object(u.a)(this,"disabled"),this.addEventListener("click",this._click),this._obs.observe(this,{childList:!0}),this._bubbleUp()}disconnectedCallback(){this.removeEventListener("click",this._click),this._obs.disconnect()}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?(this.setAttribute("disabled",""),this.selection=-1):(this.removeAttribute("disabled"),this._bubbleUp())}get selection(){return this._selection}set selection(e){this.disabled||(void 0!==e&&null!==e||(e=-1),this._selection=+e,this._rationalize())}_click(e){if(this.disabled)return;let t=this._selection,s=e.target;for(;s&&s.parentElement!==this;)s=s.parentElement;if(s&&s.parentElement===this)for(let e=0;e<this.children.length;e++)if(this.children[e]===s){this._selection=e;break}this._rationalize(),t!=this._selection&&this.dispatchEvent(new CustomEvent("selection-changed",{detail:{selection:this._selection},bubbles:!0}))}_rationalize(){for(let e=0;e<this.children.length;e++)this._selection===e?this.children[e].setAttribute("selected",""):this.children[e].removeAttribute("selected")}_bubbleUp(){if(this._selection=-1,!this.disabled){for(let e=0;e<this.children.length;e++)if(this.children[e].hasAttribute("selected")){this._selection=e;break}this._rationalize()}}});s(17),s(16);const b=document.createElement("template");b.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>',window.customElements.define("arrow-drop-down-icon-sk",class extends HTMLElement{connectedCallback(){let e=b.content.cloneNode(!0);this.appendChild(e)}});const v=document.createElement("template");function y(e,t,s=!0){Object(u.a)(e,t),void 0===e[t]&&e.hasAttribute(t)&&(e[t]=e.getAttribute(t),s&&e.removeAttribute(t))}v.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/></svg>',window.customElements.define("arrow-drop-up-icon-sk",class extends HTMLElement{connectedCallback(){let e=v.content.cloneNode(!0);this.appendChild(e)}});window.customElements.define("sort-toggle",class extends HTMLElement{constructor(){super()}connectedCallback(){y(this,"currentKey"),y(this,"key"),y(this,"direction"),this.addEventListener("click",()=>{this.toggle()})}get currentKey(){return this._currentKey}set currentKey(e){this._currentKey=e,this._render()}get key(){return this._key}set key(e){this._key=e,this._render()}get direction(){return this._direction}set direction(e){this._direction=e,this._render()}toggle(){"asc"===this.direction?this.direction="desc":this.direction="asc",this.dispatchEvent(new CustomEvent("sort-change",{detail:{direction:this.direction,key:this.key},bubbles:!0}))}_render(){Object(i.b)((e=>i["a"]` <arrow-drop-down-icon-sk ?hidden=${e.key===e.currentKey&&"asc"===e.direction}> </arrow-drop-down-icon-sk> <arrow-drop-up-icon-sk ?hidden=${e.key===e.currentKey&&"desc"===e.direction}> </arrow-drop-up-icon-sk>`)(this),this)}});s(15),s(4);const k=[{units:"w",delta:604800},{units:"d",delta:86400},{units:"h",delta:3600},{units:"m",delta:60},{units:"s",delta:1}];function w(e,t){for(let s=0;s<t.length-1;s++)if(Math.round(e/t[s+1].delta)*t[s+1].delta/t[s].delta>=1)return Math.round(e/t[s].delta)+t[s].units;let s=t.length-1;return Math.round(e/t[s].delta)+t[s].units}function x(e){if(!e)return{};let t=[],s=0;for(let i in e)t.push(i+": "+e[i]),s+=+e[i];return{average:s=(s/=t.length)?s.toFixed(1):"unknown",zones:t.join(" | ")||"unknown"}}function E(e,t,s){return s=s||"UNKNOWN",A(e,t)||$(e,t)||[s]}function C(e,t,s){if(!t)return console.warn("falsey bot passed into column"),"";let i=z[e];return i?i(t,s):function(e,t){if(t)return e.join(" | ");let s="";for(let t=0;t<e.length;t++)e[t]&&e[t].length>s.length&&(s=e[t]);return s}(E(t,e,"none"),s._verbose)}function A(e,t){if(!e||!e.dimensions||!t)return null;for(let s=0;s<e.dimensions.length;s++)if(e.dimensions[s].key===t)return e.dimensions[s].value;return null}const T={id:function(e,t){return e.bot_id===t},is_mp_bot:function(e,t){return"true"===t?!!e.lease_id:"false"!==t||!e.lease_id},status:function(e,t){return"quarantined"===t?e.quarantined:"maintenance"===t?!!e.maintenance_msg:"dead"===t?e.is_dead:!e.quarantined&&!e.is_dead},task:function(e,t){return"idle"===t?!e.task_id:!!e.task_id}};function $(e,t){if(!e||!e.state||!e.state[t])return null;let s=e.state[t];return Array.isArray(s)?s:[s]}const L=["All","Alive","Busy","Idle","Dead","Quarantined","Maintenance"];function N(){return L.map(e=>({label:e,key:""}))}function O(e,t){return`${e}:${t}`}function M(e,t){return e[0].value=parseInt(t.count),e[1].value=parseInt(t.count)-parseInt(t.dead),e[2].value=parseInt(t.busy),e[3].value=parseInt(t.count)-parseInt(t.busy),e[4].value=parseInt(t.dead),e[5].value=parseInt(t.quarantined),e[6].value=parseInt(t.maintenance),e}const S=["id","task"];function I(e,t){let s=S.indexOf(e);-1===s&&(s=S.length+1);let i=S.indexOf(t);return-1===i&&(i=S.length+1),s===i?e.localeCompare(t):s-i}const V=["quarantined","error","id"],j=["disk_space","uptime","running_time","task","status","version","external_ip","internal_ip","mp_lease_id","mp_lease_expires","last_seen","first_seen","battery_level","battery_voltage","battery_temperature","battery_status","battery_health","bot_temperature","device_temperature","is_mp_bot"],H={id:"Bot Id",mp_lease_id:"Machine Provider Lease Id",task:"Current Task",android_devices:"Android Devices",battery_health:"Battery Health",battery_level:"Battery Level (%)",battery_status:"Battery Status",battery_temperature:"Battery Temp (°C)",battery_voltage:"Battery Voltage (mV)",bot_temperature:"Bot Temp (°C)",cores:"Cores",cpu:"CPU",device:"Non-android Device",device_os:"Device OS",device_temperature:"Device Temp (°C)",device_type:"Device Type",disk_space:"Free Space (MB)",external_ip:"External IP",first_seen:"First Seen",gpu:"GPU",internal_ip:"Internal or Local IP",last_seen:"Last Seen",mp_lease_expires:"Machine Provider Lease Expires",os:"OS",pool:"Pool",running_time:"Swarming Uptime",status:"Status",uptime:"Bot Uptime",xcode_version:"XCode Version"},B={id:(e,t,s)=>e*a()(t.bot_id,s.bot_id)},z={id:(e,t)=>i["a"]`<a target=_blank rel=noopener href=${function(e){return`/bot?id=${e}`}(e.bot_id)}>${e.bot_id}</a>`,status:(e,t)=>{if(e.is_dead)return`Dead. Last seen ${function(e){let t=(("number"==typeof e?e:Date.parse(e))-Date.now())/1e3;return t<0&&(t*=-1),w(t,k)}(e.last_seen_ts)} ago`;if(e.quarantined){let t=$(e,"quarantined");t&&(t=t[0]),t&&"true"!==t&&!0!==t||(t=E(e,"error")[0]),"UNKNOWN"===t&&(t=A(e,"quarantined")||"UNKNOWN");let s=[];return function(e){return e.state.devices||[]}(e).forEach(function(e){"available"!==e.state&&s.push(e.state)}),s.length&&(t+=` [${s.join(",")}]`),`Quarantined: ${t}`}return e.maintenance_msg?`Maintenance: ${e.maintenance_msg}`:"Alive"},task:(e,t)=>e.task_id?i["a"]`<a target=_blank rel=noopener title=${e.task_name} href=${function(e,t){if(e)return t||(e=e.substring(0,e.length-1)+"0"),`/task?id=${e}`}(e.task_id)}>${e.task_id}</a>`:"idle"};var U=s(5);const F=(e,t)=>i["a"]` <tr class="bot-row ${t._botClass(e)}"> ${t._cols.map(s=>((e,t,s)=>i["a"]` <td>${C(e,t,s)}</td>`)(s,e,t))} </tr>`,P=e=>i["a"]`  <select-sk class="selector keys" @selection-changed=${t=>e._primayKeyChanged(t)}> ${e._primaryArr.map(t=>((e,t)=>i["a"]` <div class=item ?selected=${t._primaryKey===e}> <span class=key>${e}</span> <span class=flex></span> <checkbox-sk ?checked=${t._cols.indexOf(e)>=0} ?disabled=${t._forcedColumns.indexOf(e)>=0} @click=${s=>t._toggleCol(s,e)}> </checkbox-sk> </div>`)(t,e))} </select-sk>  <select-sk class="selector values" disabled> ${(e=>{if(!e._primaryKey)return"";let t=e._primaryMap[e._primaryKey];return t?t.map(t=>i["a"]` <div class=item> <span class=value>${t}</span> <span class=flex></span> <arrow-forward-icon-sk ?hidden=${e._filters.indexOf(O(e._primaryKey,t))>=0} @click=${()=>e._addFilter(e._primaryKey,t)}> </arrow-forward-icon-sk> </div>`):i["a"]` <div class="information_only"> Only dimensions can be used for filtering. <i>${e._primaryKey}</i> is a part of the bot's state and is informational only. </div>`})(e)} </select-sk>  <select-sk class="selector filters" disabled> ${e._filters.map(t=>((e,t)=>i["a"]` <div class=item> <span class=filter>${e}</span> <span class=flex></span> <remove-circle-outline-icon-sk @click=${()=>t._removeFilter(e)}> </remove-circle-outline-icon-sk> </div>`)(t,e))} </select-sk>`,q=e=>i["a"]` <div id=fleet_header class=title> <span>Fleet</span> ${(e=>{let t=t=>{t.preventDefault(),t.stopPropagation(),e._showFleetCounts=!e._showFleetCounts,e.render()};return e._showFleetCounts?i["a"]`<expand-less-icon-sk @click=${t}></expand-less-icon-sk>`:i["a"]`<expand-more-icon-sk @click=${t}></expand-more-icon-sk>`})(e)} </div> <table id=fleet_counts ?hidden=${!e._showFleetCounts}> ${e._fleetCounts.map(e=>(e=>i["a"]` <tr> <td><a href="/TODO">${e.label}</a>:</td> <td>${e.value}</td> </tr>`)(e))} </table> <div class=title>Selected</div> <table id=query_counts> ${e._queryCounts.map(e=>(e=>i["a"]` <tr> <td><a href="/TODO">${e.label}</a>:</td> <td>${e.value}</td> </tr>`)(e))} </table>`,D=e=>i["a"]` <div class=header> <div class=filter_box ?hidden=${!e.loggedInAndAuthorized}>  <search-icon-sk></search-icon-sk> <input class=search placeholder='Search colums and filters or supply a filter and press enter'> </input> <!-- The following div has display:block and divides the above and below inline-block groups--> <div></div> ${P(e)} ${(e=>i["a"]` <div class=options> <div class=verbose> <checkbox-sk ?checked=${e._verbose} @click=${t=>e._toggleVerbose(t)}> </checkbox-sk> <span>Verbose Entries</span> </div>  <input placeholder="limit"></input> <a href="https://example.com">View Matching Tasks</a> <!-- TODO(kjlubick): Only make this button appear for admins --> <button @click=${e=>alert("not implemented yet")}> DELETE ALL DEAD BOTS </button> </div>`)(e)} </div> <div class=summary> ${q(e)} </div> </div>`,K=e=>i["a"]` <swarming-app id=swapp client_id=${e.client_id} ?testing_offline=${e.testing_offline}> <header> <div class=title>Swarming Bot List</div> <aside class=hideable> <a href=/>Home</a> <a href=/botlist>Bot List</a> <a href=/tasklist>Task List</a> </aside> </header> <main> <h2 class=message ?hidden=${e.loggedInAndAuthorized}>${e._message}</h2> ${e.loggedInAndAuthorized?D(e):""} <table class=bot-table ?hidden=${!e.loggedInAndAuthorized}> <thead><tr>${e._cols.map(t=>((e,t)=>i["a"]` <th>${H[e]||e} <sort-toggle .key=${e} .currentKey=${t._sort} .direction=${t._dir}> </sort-toggle> </th>`)(t,e))}</tr></thead> <tbody>${e._sortBots().map(t=>F(t,e))}</tbody> </table> </main> <footer><error-toast-sk></error-toast-sk></footer> </swarming-app>`;window.customElements.define("bot-list",class extends U.a{constructor(){super(K),this._bots=[],this._forcedColumns=["id"],this._cols=[],this._dir="",this._filters=[],this._limit=0,this._sort="",this._primaryKey="",this._verbose=!1,this._showFleetCounts=!1,this._fleetCounts=N(),this._queryCounts=N(),this._stateChanged=h(()=>({c:this._cols,d:this._dir,f:this._filters,k:this._primaryKey,l:this._limit,s:this._sort,v:this._verbose,e:this._showFleetCounts}),e=>{this._cols=e.c,e.c.length||(this._cols=["id","task","os","status"]),this._dir=e.d||"asc",this._filters=e.f,this._primaryKey=e.k,this._limit=e.l||100,this._sort=e.s||"id",this._verbose=e.v,this._showFleetCounts=e.e,this._fetch(),this.render()}),this._primaryArr=[],this._primaryMap={},this._dimensions=[],this._message="You must sign in to see anything useful."}connectedCallback(){super.connectedCallback(),this.addEventListener("log-in",e=>{this._fetch(),this.render()}),this.addEventListener("sort-change",e=>{this._sort=e.detail.key,this._dir=e.detail.direction,this.render()})}_addFilter(e,t){let s=O(e,t);this._filters.indexOf(s)>=0||(this._filters.push(s),this._bots=function(e,t){let s=[];for(let t of e){let e=t.indexOf(":"),i=t.slice(0,e),n=t.slice(e+1);s.push([i,n])}return t.filter(e=>{let t=!0;for(let i of s){let[s,n]=i;T[s]?t&=T[s](e,n):t&=-1!==E(e,s,[]).indexOf(n)}return t})}(this._filters,this._bots),this._fetch(),this.render())}_botClass(e){let t="";return e.is_dead&&(t+="dead "),e.quarantined&&(t+="quarantined "),e.maintenance_msg&&(t+="maintenance "),e.version!==this.server_details.server_version&&(t+="old_version"),t}_fetch(){if(!this.loggedInAndAuthorized||!this._limit)return;let e={headers:{authorization:this.auth_header}};this.app.addBusyTasks(1);let t=function(e,t){let s={},i=[];return e.forEach(e=>{let t=e.split(":",1)[0],n=e.substring(t.length+1);"status"===t?"alive"===n?(s.is_dead=["FALSE"],s.quarantined=["FALSE"],s.in_maintenance=["FALSE"]):"quarantined"===n?s.quarantined=["TRUE"]:"maintenance"===n?s.in_maintenance=["TRUE"]:"dead"===n&&(s.is_dead=["TRUE"]):"is_mp_bot"===t?"true"===n?s.is_mp=["TRUE"]:"false"===n&&(s.is_mp=["FALSE"]):i.push(t+":"+n)}),s.dimensions=i,s.limit=t,o(s)}(this._filters,this._limit);fetch("/_ah/api/swarming/v1/bots/list?"+t,e).then(n.a).then(e=>{this._bots=function(e){return e?(e.forEach(e=>{e.state=e.state&&JSON.parse(e.state)||{};let t=e.state.disks||{},s=Object.keys(t);if(s.length){e.disks=[];for(let i=0;i<s.length;i++)e.disks.push({id:s[i],mb:t[s[i]].free_mb});e.disks.sort(function(e,t){return t.mb-e.mb})}else e.disks=[{id:"unknown",mb:0}];e.state.temp=x(e.state.temp);let i=[],n=e&&e.state&&e.state.devices||{};for(let t in n){let s=n[t];s.serial=t,s.okay="available"===s.state;let r=A(e,"device_type")||["unknown"];s.device_type=r[0],s.temp=x(s.temp),i.push(s)}i.sort((e,t)=>e.serial<t.serial?-1:e.serial>t.serial?1:0),e.state.devices=i}),e):[]}(e.items),this.render(),this.app.finishedTask()}).catch(e=>this.fetchError(e,"bots/list")),this.app.addBusyTasks(1),fetch("/_ah/api/swarming/v1/bots/count?"+t,e).then(n.a).then(e=>{this._queryCounts=M(this._queryCounts,e),this.render(),this.app.finishedTask()}).catch(e=>this.fetchError(e,"bots/count (query)")),this._fleetCounts._queried||(this._fleetCounts._queried=!0,this.app.addBusyTasks(1),fetch("/_ah/api/swarming/v1/bots/count",e).then(n.a).then(e=>{this._fleetCounts=M(this._fleetCounts,e),this.render(),this.app.finishedTask()}).catch(e=>this.fetchError(e,"bots/count (fleet)"))),this._dimensions.length||(this.app.addBusyTasks(1),fetch("/_ah/api/swarming/v1/bots/dimensions",e).then(n.a).then(e=>{this._dimensions=function(e){if(!e)return[];let t=[];return e.forEach(function(e){-1===V.indexOf(e.key)&&t.push(e.key)}),t.push("id"),t.sort(),t}(e.bots_dimensions),this._primaryMap=function(e){var t={};return(e=e||[]).forEach(function(e){V.indexOf(e.key)>=0||(t[e.key]=e.value)}),t.android_devices&&t.android_devices.push("0"),t.device_os&&t.device_os.push("none"),t.device_type&&t.device_type.push("none"),t.id=[],t.disk_space=[],t.task=["busy","idle"],t.status=["alive","dead","quarantined","maintenance"],t.is_mp_bot=["true","false"],t}(e.bots_dimensions),this._primaryArr=this._dimensions.concat(j),this.render(),this.app.finishedTask()}).catch(e=>this.fetchError(e,"bots/dimensions")))}_primayKeyChanged(e){this._primaryKey=this._primaryArr[e.detail.selection],this.render()}_removeFilter(e){let t=this._filters.indexOf(e);-1!==t&&(this._filters.splice(t,1),this._fetch(),this.render())}render(){(function(e,t){let s={};for(let e of t)s[e]=!0;e.sort((e,t)=>{let i=s[e],n=s[t];return i&&!n?-1:n&&!i?1:i&&n?I(e,t):e.localeCompare(t)})})(this._primaryArr,this._cols),function(e){e.sort(I)}(this._cols),this._stateChanged(),super.render()}_sortBots(){return function(e,t){e&&t?(e.forEach((e,t)=>{void 0!==e&&null!==e&&(e.__sortIdx=t)}),e.sort((e,s)=>{if(void 0===e||null===e)return void 0===s||null===s?0:1;if(void 0===s||null===s)return-1;let i=t(e,s);return 0===i?e.__sortIdx-s.__sortIdx:i})):console.warn("missing arguments to stableSort",e,t)}(this._bots,(e,t)=>{let s=this._sort;if(!s)return 0;let i=1;"desc"===this._dir&&(i=-1);let n=B[s];if(n)return n(i,e,t);let r=C(s,e,this);"none"===r&&(r="ZZZ");let o=C(s,t,this);return"none"===o&&(o="ZZZ"),i*a()(r,o)}),this._bots}_toggleCol(e,t){if(this._forcedColumns.indexOf(t)>=0)return;e.preventDefault(),e.stopPropagation();let s=this._cols.indexOf(t);s>=0?this._cols.splice(s,1):this._cols.push(t),this.render()}_toggleVerbose(e){e.preventDefault(),this._verbose=!this._verbose,this.render()}});s(14)},,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){}]);