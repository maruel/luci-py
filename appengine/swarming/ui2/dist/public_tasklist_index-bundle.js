!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/newres/",i(i.s=24)}([function(e,t,i){"use strict";const s=new WeakMap,n=e=>(s.set(e,!0),e),r=e=>"function"==typeof e&&s.has(e),o=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=(e,t,i=null,s=null)=>{let n=t;for(;n!==i;){const t=n.nextSibling;e.insertBefore(n,s),n=t}},l=(e,t,i=null)=>{let s=t;for(;s!==i;){const t=s.nextSibling;e.removeChild(s),s=t}},c={},d=`{{lit-${String(Math.random()).slice(2)}}}`,h=`\x3c!--${d}--\x3e`,u=new RegExp(`${d}|${h}`),_=(()=>{const e=document.createElement("div");return e.setAttribute("style","{{bad value}}"),"{{bad value}}"!==e.getAttribute("style")})();class f{constructor(e,t){this.parts=[],this.element=t;let i=-1,s=0;const n=[],r=t=>{const o=t.content,a=document.createTreeWalker(o,133,null,!1);let l,c;for(;a.nextNode();){i++,l=c;const t=c=a.currentNode;if(1===t.nodeType){if(t.hasAttributes()){const n=t.attributes;let r=0;for(let e=0;e<n.length;e++)n[e].value.indexOf(d)>=0&&r++;for(;r-- >0;){const n=e.strings[s],r=g.exec(n)[2],o=_&&"style"===r?"style$":/^[a-zA-Z-]*$/.test(r)?r:r.toLowerCase(),a=t.getAttribute(o).split(u);this.parts.push({type:"attribute",index:i,name:r,strings:a}),t.removeAttribute(o),s+=a.length-1}}"TEMPLATE"===t.tagName&&r(t)}else if(3===t.nodeType){const e=t.nodeValue;if(e.indexOf(d)<0)continue;const r=t.parentNode,o=e.split(u),a=o.length-1;s+=a;for(let e=0;e<a;e++)r.insertBefore(""===o[e]?m():document.createTextNode(o[e]),t),this.parts.push({type:"node",index:i++});r.insertBefore(""===o[a]?m():document.createTextNode(o[a]),t),n.push(t)}else if(8===t.nodeType)if(t.nodeValue===d){const e=t.parentNode,r=t.previousSibling;null===r||r!==l||r.nodeType!==Node.TEXT_NODE?e.insertBefore(m(),t):i--,this.parts.push({type:"node",index:i++}),n.push(t),null===t.nextSibling?e.insertBefore(m(),t):i--,c=l,s++}else{let e=-1;for(;-1!==(e=t.nodeValue.indexOf(d,e+1));)this.parts.push({type:"node",index:-1})}}};r(t);for(const e of n)e.parentNode.removeChild(e)}}const p=e=>-1!==e.index,m=()=>document.createComment(""),g=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,i){this._parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this._parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this._parts)void 0!==e&&e.commit()}_clone(){const e=o?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=this.template.parts;let i=0,s=0;const n=e=>{const r=document.createTreeWalker(e,133,null,!1);let o=r.nextNode();for(;i<t.length&&null!==o;){const e=t[i];if(p(e))if(s===e.index){if("node"===e.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(o),this._parts.push(e)}else this._parts.push(...this.processor.handleAttributeExpressions(o,e.name,e.strings,this.options));i++}else s++,"TEMPLATE"===o.nodeName&&n(o.content),o=r.nextNode();else this._parts.push(void 0),i++}};return n(e),o&&(document.adoptNode(e),customElements.upgrade(e)),e}}class v{constructor(e,t,i,s){this.strings=e,this.values=t,this.type=i,this.processor=s}getHTML(){const e=this.strings.length-1;let t="",i=!0;for(let s=0;s<e;s++){const e=this.strings[s];t+=e;const n=e.lastIndexOf(">");!(i=(n>-1||i)&&-1===e.indexOf("<",n+1))&&_&&(t=t.replace(g,(e,t,i,s)=>"style"===i?`${t}style$${s}`:e)),t+=i?h:d}return t+this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}class y extends v{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,i=t.firstChild;return t.removeChild(i),a(t,i.firstChild),e}}const k=e=>null===e||!("object"==typeof e||"function"==typeof e);class w{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new E(this)}_getValue(){const e=this.strings,t=e.length-1;let i="";for(let s=0;s<t;s++){i+=e[s];const t=this.parts[s];if(void 0!==t){const e=t.value;if(null!=e&&(Array.isArray(e)||"string"!=typeof e&&e[Symbol.iterator]))for(const t of e)i+="string"==typeof t?t:String(t);else i+="string"==typeof e?e:String(e)}}return i+e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class E{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===c||k(e)&&e===this.value||(this.value=e,r(e)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const e=this.value;this.value=c,e(this)}this.value!==c&&this.committer.commit()}}class C{constructor(e){this.value=void 0,this._pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(m()),this.endNode=e.appendChild(m())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e._insert(this.startNode=m()),e._insert(this.endNode=m())}insertAfterPart(e){e._insert(this.startNode=m()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this._pendingValue=e}commit(){for(;r(this._pendingValue);){const e=this._pendingValue;this._pendingValue=c,e(this)}const e=this._pendingValue;e!==c&&(k(e)?e!==this.value&&this._commitText(e):e instanceof v?this._commitTemplateResult(e):e instanceof Node?this._commitNode(e):Array.isArray(e)||e[Symbol.iterator]?this._commitIterable(e):void 0!==e.then?this._commitPromise(e):this._commitText(e))}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_commitNode(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}_commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}_commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value&&this.value.template===t)this.value.update(e.values);else{const i=new b(t,e.processor,this.options),s=i._clone();i.update(e.values),this._commitNode(s),this.value=i}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,s=0;for(const n of e)void 0===(i=t[s])&&(i=new C(this.options),t.push(i),0===s?i.appendIntoPart(this):i.insertAfterPart(t[s-1])),i.setValue(n),i.commit(),s++;s<t.length&&(t.length=s,this.clear(i&&i.endNode))}_commitPromise(e){this.value=e,e.then(t=>{this.value===e&&(this.setValue(t),this.commit())})}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class x{constructor(e,t,i){if(this.value=void 0,this._pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this._pendingValue=e}commit(){for(;r(this._pendingValue);){const e=this._pendingValue;this._pendingValue=c,e(this)}if(this._pendingValue===c)return;const e=!!this._pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=e,this._pendingValue=c}}class A extends w{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new O(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class O extends E{}let T=!1;try{const e={get capture(){return T=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class N{constructor(e,t,i){this.value=void 0,this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i}setValue(e){this._pendingValue=e}commit(){for(;r(this._pendingValue);){const e=this._pendingValue;this._pendingValue=c,e(this)}if(this._pendingValue===c)return;const e=this._pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),s=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this,this._options),this._options=L(e),s&&this.element.addEventListener(this.eventName,this,this._options),this.value=e,this._pendingValue=c}handleEvent(e){("function"==typeof this.value?this.value:"function"==typeof this.value.handleEvent?this.value.handleEvent:()=>null).call(this.eventContext||this.element,e)}}const L=e=>e&&(T?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);class I{handleAttributeExpressions(e,t,i,s){const n=t[0];return"."===n?new A(e,t.slice(1),i).parts:"@"===n?[new N(e,t.slice(1),s.eventContext)]:"?"===n?[new x(e,t.slice(1),i)]:new w(e,t,i).parts}handleTextExpression(e){return new C(e)}}const M=new I;function $(e){let t=D.get(e.type);void 0===t&&(t=new Map,D.set(e.type,t));let i=t.get(e.strings);return void 0===i&&(i=new f(e,e.getTemplateElement()),t.set(e.strings,i)),i}const D=new Map,S=new WeakMap,P=(e,t,i)=>{let s=S.get(t);void 0===s&&(l(t,t.firstChild),S.set(t,s=new C(Object.assign({templateFactory:$},i))),s.appendInto(t)),s.setValue(e),s.commit()};i.d(t,"c",function(){return j}),i.d(t,!1,function(){return v}),i.d(t,!1,function(){return y}),i.d(t,!1,function(){return d}),i.d(t,!1,function(){return h}),i.d(t,!1,function(){return u}),i.d(t,!1,function(){return _}),i.d(t,!1,function(){return f}),i.d(t,!1,function(){return p}),i.d(t,!1,function(){return m}),i.d(t,!1,function(){return g}),i.d(t,!1,function(){return I}),i.d(t,!1,function(){return M}),i.d(t,!1,function(){return b}),i.d(t,!1,function(){return c}),i.d(t,!1,function(){return k}),i.d(t,!1,function(){return w}),i.d(t,"a",function(){return E}),i.d(t,!1,function(){return C}),i.d(t,!1,function(){return x}),i.d(t,!1,function(){return A}),i.d(t,!1,function(){return O}),i.d(t,!1,function(){return N}),i.d(t,!1,function(){return o}),i.d(t,!1,function(){return a}),i.d(t,!1,function(){return l}),i.d(t,"b",function(){return n}),i.d(t,!1,function(){return r}),i.d(t,!1,function(){return S}),i.d(t,"d",function(){return P}),i.d(t,!1,function(){return $}),i.d(t,!1,function(){return D});const j=(e,...t)=>new v(e,t,"html",M)},function(e,t,i){"use strict";function s(e,t){if(e.hasOwnProperty(t)){let i=e[t];delete e[t],e[t]=i}}i.d(t,"a",function(){return s})},function(e,t,i){"use strict";function s(e,t=1e4){"object"==typeof e&&(e=e.message||JSON.stringify(e));var i={message:e,duration:t};document.dispatchEvent(new CustomEvent("error-sk",{detail:i,bubbles:!0}))}i.d(t,"a",function(){return s})},function(e,t,i){"use strict";function s(e){if(e.ok)return e.json();throw{message:`Bad network response: ${e.statusText}`,resp:e,status:e.status}}i.d(t,"a",function(){return s})},function(e,t,i){"use strict";function s(e){if(!e)return"";var t=[];return Object.keys(e).sort().forEach(function(i){e[i].forEach(function(e){t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})}),t.join("&")}function n(e){var t=[];return Object.keys(e).sort().forEach(function(i){Array.isArray(e[i])?e[i].forEach(function(e){t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):"object"==typeof e[i]?t.push(encodeURIComponent(i)+"="+encodeURIComponent(n(e[i]))):t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]))}),t.join("&")}function r(e,t){t=t||{};for(var i={},s=e.split("&"),n=0;n<s.length;n++){var o=s[n].split("=",2);if(2==o.length){var a=decodeURIComponent(o[0]),l=decodeURIComponent(o[1]);if(t.hasOwnProperty(a))switch(typeof t[a]){case"boolean":i[a]="true"==l;break;case"number":i[a]=Number(l);break;case"object":if(Array.isArray(t[a])){var c=i[a]||[];c.push(l),i[a]=c}else i[a]=r(l,t[a]);break;case"string":i[a]=l;break;default:i[a]=l}else i[a]=l}}return i}i.d(t,"b",function(){return s}),i.d(t,"a",function(){return n}),i.d(t,"c",function(){return r})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i(0);const n=e=>Object(s.b)(t=>{if(void 0===e&&t instanceof s.a){if(e!==t.value){const e=t.committer.name;t.committer.element.removeAttribute(e)}}else t.setValue(e)})},function(e,t){e.exports=function e(t,i){"use strict";var s,n,r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,d=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=d(t).replace(o,"")||"",u=d(i).replace(o,"")||"",_=h.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(h.match(l),16)||1!==_.length&&h.match(a)&&Date.parse(h),m=parseInt(u.match(l),16)||p&&u.match(a)&&Date.parse(u)||null;if(m){if(p<m)return-1;if(p>m)return 1}for(var g=0,b=Math.max(_.length,f.length);g<b;g++){if(s=!(_[g]||"").match(c)&&parseFloat(_[g])||_[g]||0,n=!(f[g]||"").match(c)&&parseFloat(f[g])||f[g]||0,isNaN(s)!==isNaN(n))return isNaN(s)?1:-1;if(typeof s!=typeof n&&(s+="",n+=""),s<n)return-1;if(s>n)return 1}return 0}},function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return n});const s=new Promise(function(e,t){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}),n=(e,t=document)=>t.querySelector(e)},function(e,t,i){"use strict";function s(e,t){if(!n[t]||"none"===e)return e;let i=n[t][e];if("gpu"===t){let s=e.split("-")[0];i=n[t][s]}return i?`${i} (${e})`:e}i.d(t,"a",function(){return s});const n={device:{"iPad4,1":"iPad Air","iPad5,1":"iPad mini 4","iPad6,3":"iPad Pro [9.7 in]","iPhone7,2":"iPhone 6","iPhone9,1":"iPhone 7"},device_type:{angler:"Nexus 6p",athene:"Moto G4",blueline:"Pixel 3",bullhead:"Nexus 5X",crosshatch:"Pixel 3 XL",darcy:"NVIDIA Shield [2017]",dragon:"Pixel C",flo:"Nexus 7 [2013]",flounder:"Nexus 9",foster:"NVIDIA Shield [2015]",fugu:"Nexus Player",gce_x86:"Android on GCE",goyawifi:"Galaxy Tab 3",grouper:"Nexus 7 [2012]",hammerhead:"Nexus 5",herolte:"Galaxy S7 [Global]",heroqlteatt:"Galaxy S7 [AT&T]",j5xnlte:"Galaxy J5",m0:"Galaxy S3",mako:"Nexus 4",manta:"Nexus 10",marlin:"Pixel XL",sailfish:"Pixel",shamu:"Nexus 6",sprout:"Android One",starlte:"Galaxy S9",taimen:"Pixel 2 XL",walleye:"Pixel 2",zerofltetmo:"Galaxy S6"},gpu:{1002:"AMD","1002:6613":"AMD Radeon R7 240","1002:6646":"AMD Radeon R9 M280X","1002:6779":"AMD Radeon HD 6450/7450/8450","1002:679e":"AMD Radeon HD 7800","1002:6821":"AMD Radeon HD 8870M","1002:683d":"AMD Radeon HD 7770/8760","1002:9830":"AMD Radeon HD 8400","1002:9874":"AMD Carrizo","1a03":"ASPEED","1a03:2000":"ASPEED Graphics Family","102b":"Matrox","102b:0522":"Matrox MGA G200e","102b:0532":"Matrox MGA G200eW","102b:0534":"Matrox G200eR2","10de":"NVIDIA","10de:08a4":"NVIDIA GeForce 320M","10de:08aa":"NVIDIA GeForce 320M","10de:0a65":"NVIDIA GeForce 210","10de:0fe9":"NVIDIA GeForce GT 750M Mac Edition","10de:0ffa":"NVIDIA Quadro K600","10de:104a":"NVIDIA GeForce GT 610","10de:11c0":"NVIDIA GeForce GTX 660","10de:1244":"NVIDIA GeForce GTX 550 Ti","10de:1401":"NVIDIA GeForce GTX 960","10de:1ba1":"NVIDIA GeForce GTX 1070","10de:1cb3":"NVIDIA Quadro P400",8086:"Intel","8086:0046":"Intel Ironlake HD Graphics","8086:0102":"Intel Sandy Bridge HD Graphics 2000","8086:0116":"Intel Sandy Bridge HD Graphics 3000","8086:0166":"Intel Ivy Bridge HD Graphics 4000","8086:0412":"Intel Haswell HD Graphics 4600","8086:041a":"Intel Haswell HD Graphics","8086:0a16":"Intel Haswell HD Graphics 4400","8086:0a26":"Intel Haswell HD Graphics 5000","8086:0a2e":"Intel Haswell Iris Graphics 5100","8086:0d26":"Intel Haswell Iris Pro Graphics 5200","8086:0f31":"Intel Bay Trail HD Graphics","8086:1616":"Intel Broadwell HD Graphics 5500","8086:161e":"Intel Broadwell HD Graphics 5300","8086:1626":"Intel Broadwell HD Graphics 6000","8086:162b":"Intel Broadwell Iris Graphics 6100","8086:1912":"Intel Skylake HD Graphics 530","8086:191e":"Intel Skylake HD Graphics 515","8086:1926":"Intel Skylake Iris 540/550","8086:193b":"Intel Skylake Iris Pro 580","8086:22b1":"Intel Braswell HD Graphics","8086:3ea5":"Intel Coffee Lake Iris Plus Graphics 655","8086:5912":"Intel Kaby Lake HD Graphics 630","8086:591e":"Intel Kaby Lake HD Graphics 615","8086:5926":"Intel Kaby Lake Iris Plus Graphics 640"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"e",function(){return l}),i.d(t,"c",function(){return c}),i.d(t,"b",function(){return d}),i.d(t,"d",function(){return h});const s=[{units:"w",delta:604800},{units:"d",delta:86400},{units:"h",delta:3600},{units:"m",delta:60},{units:"s",delta:1}],n=1048576,r=1024*n,o=1024*r,a=[{units:" PB",delta:1024*o},{units:" TB",delta:o},{units:" GB",delta:r},{units:" MB",delta:n},{units:" KB",delta:1024},{units:" B",delta:1}];function l(e){if(e<0&&(e=-e),0===e)return"  0s";let t="";for(let i=0;i<s.length;i++)if(s[i].delta<=e){let n=Math.floor(e/s[i].delta)+s[i].units;for(;n.length<4;)n=" "+n;t+=n,e%=s[i].delta}return t}function c(e){let t=(("number"==typeof e?e:Date.parse(e))-Date.now())/1e3;return t<0&&(t*=-1),u(t,s)}function d(e,t=1){return Number.isInteger(t)&&(e*=t),u(e,a)}function h(e){let t=e.toString(),i=t.substring(t.indexOf("("));return e.toLocaleString()+" "+i}function u(e,t){for(let i=0;i<t.length-1;i++)if(Math.round(e/t[i+1].delta)*t[i+1].delta/t[i].delta>=1)return Math.round(e/t[i].delta)+t[i].units;let i=t.length-1;return Math.round(e/t[i].delta)+t[i].units}},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o}),i.d(t,"c",function(){return a}),i.d(t,"d",function(){return l}),i.d(t,"e",function(){return c}),i.d(t,"f",function(){return d});var s=i(9),n=i(4);function r(e){if(e)return"/bot?id="+e}function o(e){return e||(e=[]),function(t,i){let s=e.indexOf(t);-1===s&&(s=e.length+1);let n=e.indexOf(i);return-1===n&&(n=e.length+1),s===n?t.localeCompare(i):s-n}}function a(e){if(0===e||"0"===e)return"0s";if(!e)return"--";let t=parseFloat(e);return t?t>60?s.e(t):t.toFixed(2)+"s":e+" seconds"}function l(e,t){if(e["human_"+t]="--",e[t]){e[t].endsWith&&!e[t].endsWith("Z")&&(e[t]+="Z"),e[t]=new Date(e[t]);var i=e[t].toString(),s=i.substring(i.indexOf("(")),n=new Date;e[t].getDate()==n.getDate()&&e[t].getMonth()==n.getMonth()&&e[t].getYear()==n.getYear()?e["human_"+t]=e[t].toLocaleTimeString()+" "+s:e["human_"+t]=e[t].toLocaleString()+" "+s}}function c(e,t){e=e||[],t=t||[];let i=[];for(let t of e)t.key&&t.value?Array.isArray(t.value)?t.value.forEach(function(e){i.push(t.key+":"+e)}):i.push(t.key+":"+t.value):i.push(t);for(let e=2;e<arguments.length;e++)i.push(arguments[e]);let s={f:i,c:t};return"/tasklist?"+n.b(s)}function d(e,t){if(e)return t||(e=e.substring(0,e.length-1)+"0"),`/task?id=${e}`}},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return o}),i.d(t,"d",function(){return a});var s=i(8);function n(e,t){return t?e.filter(e=>l(e,t)):e}function r(e,t,i){return i?-1===(i=i.trim()).indexOf(":")?e.filter(e=>{if(l(e,i))return!0;let n=t[e]||[];for(let t of n)if(l(t=Object(s.a)(t,e),i))return!0;return!1}):(i=i.split(":")[0],e.filter(e=>e===i)):e}function o(e,t,i){let n=(i=i.trim()).indexOf(":");return-1!==n&&(i=i.substring(n+1)),!i||l(t,i)?e:e.filter(e=>!!l(e=Object(s.a)(e,t),i))}function a(e,t){return`${e}:${t}`}function l(e,t){if(!t)return!0;if(!e)return!1;t=t.trim().toLocaleLowerCase(),e=e.toLocaleLowerCase();let i=t.split(" ");for(let t of i)if(-1!==e.indexOf(t))return!0;return!1}},function(e,t,i){"use strict";var s=i(2),n=i(0),r=i(5),o=i(3),a=i(1);window.customElements.define("toast-sk",class extends HTMLElement{constructor(){super(),this._timer=null}connectedCallback(){this.hasAttribute("duration")||(this.duration=5e3),Object(a.a)(this,"duration")}get duration(){return+this.getAttribute("duration")}set duration(e){this.setAttribute("duration",e)}show(){this.setAttribute("shown",""),this.duration>0&&!this._timer&&(this._timer=window.setTimeout(()=>{this._timer=null,this.hide()},this.duration))}hide(){this.removeAttribute("shown"),this._timer&&(window.clearTimeout(this._timer),this._timer=null)}});i(40);window.customElements.define("error-toast-sk",class extends HTMLElement{connectedCallback(){this.innerHTML="<toast-sk></toast-sk>",this._toast=this.firstElementChild,document.addEventListener("error-sk",this)}disconnectedCallback(){document.removeEventListener("error-sk",this)}handleEvent(e){e.detail.duration&&(this._toast.duration=e.detail.duration),this._toast.textContent=e.detail.message,this._toast.show()}});i(38);const l=document.createElement("template");l.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"/></svg>',window.customElements.define("bug-report-icon-sk",class extends HTMLElement{connectedCallback(){let e=l.content.cloneNode(!0);this.appendChild(e)}});const c=document.createElement("template");c.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',window.customElements.define("menu-icon-sk",class extends HTMLElement{connectedCallback(){let e=c.content.cloneNode(!0);this.appendChild(e)}}),window.customElements.define("spinner-sk",class extends HTMLElement{connectedCallback(){Object(a.a)(this,"active")}get active(){return this.hasAttribute("active")}set active(e){e?this.setAttribute("active",""):this.removeAttribute("active")}});i(37),i(36);window.customElements.define("oauth-login",class extends HTMLElement{connectedCallback(){Object(a.a)(this,"client_id"),Object(a.a)(this,"testing_offline"),this._auth_header="",this.testing_offline?this._profile={email:"missing@chromium.org",imageURL:"http://storage.googleapis.com/gd-wagtail-prod-assets/original_images/logo_google_fonts_color_2x_web_64dp.png"}:(this._profile=null,document.addEventListener("oauth-lib-loaded",()=>{gapi.auth2.init({client_id:this.client_id}).then(()=>{this._maybeFireLoginEvent(),this._render()},e=>{console.error(e),Object(s.a)(`Error initializing oauth: ${JSON.stringify(e)}`,1e4)})})),this._render()}static get observedAttributes(){return["client_id","testing_offline"]}get auth_header(){return this._auth_header}get client_id(){return this.getAttribute("client_id")}set client_id(e){return this.setAttribute("client_id",e)}get testing_offline(){return this.hasAttribute("testing_offline")}set testing_offline(e){e?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}_maybeFireLoginEvent(){let e=gapi.auth2.getAuthInstance().currentUser.get();if(e.isSignedIn()){let t=e.getBasicProfile();this._profile={email:t.getEmail(),imageURL:t.getImageUrl()};let i=e.getAuthResponse(!0),s=`${i.token_type} ${i.access_token}`;return this.dispatchEvent(new CustomEvent("log-in",{detail:{auth_header:s},bubbles:!0})),this._auth_header=s,!0}return this._profile=null,this._auth_header="",!1}_logIn(){if(this.testing_offline)this._auth_header="Bearer 12345678910-boomshakalaka",this.dispatchEvent(new CustomEvent("log-in",{detail:{auth_header:this._auth_header},bubbles:!0})),this._render();else{let e=gapi.auth2.getAuthInstance();e&&e.signIn({scope:"email",prompt:"select_account"}).then(()=>{this._maybeFireLoginEvent()||console.warn("login was not successful; maybe user canceled"),this._render()})}}_logOut(){if(this.testing_offline)this._auth_header="",this._render(),window.location.reload();else{let e=gapi.auth2.getAuthInstance();e&&e.signOut().then(()=>{this._auth_header="",this._profile=null,window.location.reload()})}}_render(){Object(n.d)((e=>e.auth_header?n["c"]` <div> <img class=center id=avatar src="${e._profile.imageURL}" width=30 height=30> <span class=center>${e._profile.email}</span> <span class=center>|</span> <a class=center @click=${()=>e._logOut()} href="#">Sign out</a> </div>`:n["c"]` <div> <a @click=${()=>e._logIn()} href="#">Sign in</a> </div>`)(this),this)}attributeChangedCallback(e,t,i){this._render()}});const d=document.createElement("template");d.innerHTML="\n<button class=toggle-button>\n  <menu-icon-sk>\n  </menu-icon-sk>\n</button>\n";const h=document.createElement("template");h.innerHTML="\n<div class=spinner-spacer>\n  <spinner-sk></spinner-sk>\n</div>\n";const u=document.createElement("template");u.innerHTML='\n<a target=_blank rel=noopener\n   href="https://bugs.chromium.org/p/chromium/issues/entry?components=Infra%3EPlatform%3ESwarming%3EWebUI&owner=kjlubick@chromium.org&status=Assigned">\n  <bug-report-icon-sk class=fab></bug-report-icon-sk>\n</a>',window.customElements.define("swarming-app",class extends HTMLElement{constructor(){super(),this._busyTaskCount=0,this._spinner=null,this._dynamicEle=null,this._auth_header="",this._server_details={server_version:"You must log in to see more details",bot_version:""},this._permissions={}}connectedCallback(){Object(a.a)(this,"client_id"),Object(a.a)(this,"testing_offline"),this._addHTML(),this.addEventListener("log-in",e=>{this._auth_header=e.detail.auth_header,this._fetch()}),this._render()}static get observedAttributes(){return["client_id","testing_offline"]}get busy(){return!!this._busyTaskCount}get permissions(){return this._permissions}get server_details(){return this._server_details}get client_id(){return this.getAttribute("client_id")}set client_id(e){return this.setAttribute("client_id",e)}get testing_offline(){return this.hasAttribute("testing_offline")}set testing_offline(e){e?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}addBusyTasks(e){this._busyTaskCount+=e,this._spinner&&this._busyTaskCount>0&&(this._spinner.active=!0)}finishedTask(){this._busyTaskCount--,this._busyTaskCount<=0&&(this._busyTaskCount=0,this._spinner&&(this._spinner.active=!1),this.dispatchEvent(new CustomEvent("busy-end",{bubbles:!0})))}_addHTML(){let e=this.querySelector("header"),t=e&&e.querySelector("aside"),i=this.querySelector("footer");if(!(e&&t&&t.classList.contains("hideable")))return;let s=d.content.cloneNode(!0);e.insertBefore(s,e.firstElementChild),(s=e.firstElementChild).addEventListener("click",e=>this._toggleMenu(e,t));let n=h.content.cloneNode(!0);e.insertBefore(n,t),this._spinner=e.querySelector("spinner-sk");let r=document.createElement("span");r.classList.add("grow"),e.appendChild(r),this._dynamicEle=document.createElement("div"),this._dynamicEle.classList.add("right"),e.appendChild(this._dynamicEle);let o=document.createElement("error-toast-sk");i.append(o);let a=u.content.cloneNode(!0);i.append(a)}_toggleMenu(e,t){t.classList.toggle("shown")}_fetch(){if(!this._auth_header)return;this._server_details={server_version:"<loading>",bot_version:"<loading>"};let e={headers:{authorization:this._auth_header}};this.addBusyTasks(2),fetch("/_ah/api/swarming/v1/server/details",e).then(o.a).then(e=>{this._server_details=e,this._render(),this.dispatchEvent(new CustomEvent("server-details-loaded",{bubbles:!0})),this.finishedTask()}).catch(e=>{403===e.status?(this._server_details={server_version:"User unauthorized - try logging in with a different account",bot_version:""},this._render()):(console.error(e),Object(s.a)(`Unexpected error loading details: ${e.message}`,5e3)),this.finishedTask()}),fetch("/_ah/api/swarming/v1/server/permissions",e).then(o.a).then(e=>{this._permissions=e,this._render(),this.dispatchEvent(new CustomEvent("permissions-loaded",{bubbles:!0})),this.finishedTask()}).catch(e=>{403!==e.status&&(console.error(e),Object(s.a)(`Unexpected error loading permissions: ${e.message}`,5e3)),this.finishedTask()})}_render(){this._dynamicEle&&Object(n.d)((e=>n["c"]` <div class=server-version> Server: <a href=${Object(r.a)(function(e){if(e&&e.server_version){var t=e.server_version.split("-");if(2===t.length)return`https://chromium.googlesource.com/infra/luci/luci-py/+/${t[1]}`}}(e._server_details))}> ${e._server_details.server_version} </a> </div> <oauth-login client_id=${e.client_id} ?testing_offline=${e.testing_offline}> </oauth-login>`)(this),this._dynamicEle)}attributeChangedCallback(e,t,i){this._render()}});i(35)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s=i(2),n=i(0),r=i(1);class o extends HTMLElement{constructor(e){super(),this._template=e,this._app=null,this._auth_header="",this._notAuthorized=!1}connectedCallback(){Object(r.a)(this,"client_id"),Object(r.a)(this,"testing_offline"),this._authHeaderEvent=(e=>{this._auth_header=e.detail.auth_header}),this.addEventListener("log-in",this._authHeaderEvent)}disconnectedCallback(){this.removeEventListener("log-in",this._authHeaderEvent)}static get observedAttributes(){return["client_id","testing_offline"]}get app(){return this._app}get auth_header(){return this._auth_header}get loggedInAndAuthorized(){return!!this._auth_header&&!this._notAuthorized}get permissions(){return this._app&&this._app.permissions||{}}get server_details(){return this._app&&this._app.server_details||{}}get client_id(){return this.getAttribute("client_id")}set client_id(e){return this.setAttribute("client_id",e)}get testing_offline(){return this.hasAttribute("testing_offline")}set testing_offline(e){e?this.setAttribute("testing_offline",!0):this.removeAttribute("testing_offline")}fetchError(e,t){403===e.status?(this._message="User unauthorized - try logging in with a different account",this._notAuthorized=!0,this.render()):"AbortError"!==e.name&&(console.error(e),Object(s.a)(`Unexpected error loading ${t}: ${e.message}`,5e3)),this._app.finishedTask()}render(){Object(n.d)(this._template(this),this,{eventContext:this}),this._app||(this._app=this.firstElementChild,Object(n.d)(this._template(this),this,{eventContext:this}))}attributeChangedCallback(e,t,i){this.render()}}},function(e,t,i){"use strict";var s=i(4);const n=e=>JSON.parse(JSON.stringify(e));function r(e,t){let i={};return Object.keys(e).forEach(function(n){(function(e,t){if(typeof e!=typeof t)return!1;let i=typeof e;return"string"===i||"boolean"===i||"number"===i?e===t:"object"===i?Array.isArray(i)?JSON.stringify(e)===JSON.stringify(t):Object(s.a)(e)===Object(s.a)(t):void 0})(e[n],t[n])||(i[n]=e[n])}),i}var o=i(7);function a(e,t){let i=n(e()),a=!1;const l=()=>{a=!0;let e=s.c(window.location.search.slice(1),i);t(function(e,t){let i={};return Object.keys(t).forEach(function(s){e.hasOwnProperty(s)?i[s]=n(e[s]):i[s]=n(t[s])}),i}(e,i))};return o.b.then(l),window.addEventListener("popstate",l),()=>{if(!a)return;let t=s.a(r(e(),i));history.pushState(null,"",window.location.origin+window.location.pathname+"?"+t)}}i.d(t,"a",function(){return a})},function(e,t,i){"use strict";var s=i(1);window.customElements.define("checkbox-sk",class extends HTMLElement{get _role(){return"checkbox"}static get observedAttributes(){return["checked","disabled","name","label"]}connectedCallback(){this.innerHTML=`<label><input type=${this._role}></input><span class=box></span><span class=label></span></label>`,this._label=this.querySelector(".label"),this._input=this.querySelector("input"),Object(s.a)(this,"checked"),Object(s.a)(this,"disabled"),Object(s.a)(this,"name"),Object(s.a)(this,"label"),this._input.checked=this.checked,this._input.disabled=this.disabled,this._input.setAttribute("name",this.getAttribute("name")),this._label.textContent=this.getAttribute("label")}get checked(){return this.hasAttribute("checked")}set checked(e){let t=!!e;this._input.checked=t,e?this.setAttribute("checked",""):this.removeAttribute("checked")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){let t=!!e;this._input.disabled=t,t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get name(){return this._input.getAttribute("name")}set name(e){this.setAttribute("name",e),this._input.setAttribute("name",e)}get label(){return this._input.getAttribute("label")}set label(e){this.setAttribute("label",e),this._input.setAttribute("label",e)}attributeChangedCallback(e,t,i){if(!this._input)return;let s=null!=i;switch(e){case"checked":this._input.checked=s;break;case"disabled":this._input.disabled=s;break;case"name":this._input.name=i;break;case"label":this._label.textContent=i}}});i(34)},function(e,t,i){"use strict";var s=i(1);window.customElements.define("select-sk",class extends HTMLElement{constructor(){super(),this._obs=new MutationObserver(()=>this._bubbleUp()),this._selection=-1}connectedCallback(){Object(s.a)(this,"selection"),Object(s.a)(this,"disabled"),this.addEventListener("click",this._click),this._obs.observe(this,{childList:!0}),this._bubbleUp()}disconnectedCallback(){this.removeEventListener("click",this._click),this._obs.disconnect()}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?(this.setAttribute("disabled",""),this.selection=-1):(this.removeAttribute("disabled"),this._bubbleUp())}get selection(){return this._selection}set selection(e){this.disabled||(void 0!==e&&null!==e||(e=-1),this._selection=+e,this._rationalize())}_click(e){if(this.disabled)return;let t=this._selection,i=e.target;for(;i&&i.parentElement!==this;)i=i.parentElement;if(i&&i.parentElement===this)for(let e=0;e<this.children.length;e++)if(this.children[e]===i){this._selection=e;break}this._rationalize(),t!=this._selection&&this.dispatchEvent(new CustomEvent("selection-changed",{detail:{selection:this._selection},bubbles:!0}))}_rationalize(){for(let e=0;e<this.children.length;e++)this._selection===e?this.children[e].setAttribute("selected",""):this.children[e].removeAttribute("selected")}_bubbleUp(){if(this._selection=-1,!this.disabled){for(let e=0;e<this.children.length;e++)if(this.children[e].hasAttribute("selected")){this._selection=e;break}this._rationalize()}}});i(33)},function(e,t,i){"use strict";var s=i(0),n=i(1);i(38);const r=document.createElement("template");r.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>',window.customElements.define("arrow-drop-down-icon-sk",class extends HTMLElement{connectedCallback(){let e=r.content.cloneNode(!0);this.appendChild(e)}});const o=document.createElement("template");function a(e,t,i=!0){Object(n.a)(e,t),void 0===e[t]&&e.hasAttribute(t)&&(e[t]=e.getAttribute(t),i&&e.removeAttribute(t))}o.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z"/></svg>',window.customElements.define("arrow-drop-up-icon-sk",class extends HTMLElement{connectedCallback(){let e=o.content.cloneNode(!0);this.appendChild(e)}});window.customElements.define("sort-toggle",class extends HTMLElement{constructor(){super()}connectedCallback(){a(this,"currentKey"),a(this,"key"),a(this,"direction"),this.addEventListener("click",()=>{this.toggle()})}get currentKey(){return this._currentKey}set currentKey(e){this._currentKey=e,this._render()}get key(){return this._key}set key(e){this._key=e,this._render()}get direction(){return this._direction}set direction(e){this._direction=e,this._render()}toggle(){this.currentKey===this.key&&"asc"===this.direction?this.direction="desc":this.direction="asc",this.dispatchEvent(new CustomEvent("sort-change",{detail:{direction:this.direction,key:this.key},bubbles:!0}))}_render(){Object(s.d)((e=>s["c"]` <arrow-drop-down-icon-sk ?hidden=${e.key===e.currentKey&&"asc"===e.direction}> </arrow-drop-down-icon-sk> <arrow-drop-up-icon-sk ?hidden=${e.key===e.currentKey&&"desc"===e.direction}> </arrow-drop-up-icon-sk>`)(this),this)}});i(31)},function(e,t,i){"use strict";i(32)},function(e,t,i){"use strict";i(38);const s=document.createElement("template");s.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>',window.customElements.define("search-icon-sk",class extends HTMLElement{connectedCallback(){let e=s.content.cloneNode(!0);this.appendChild(e)}})},function(e,t,i){"use strict";i(38);const s=document.createElement("template");s.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>',window.customElements.define("more-vert-icon-sk",class extends HTMLElement{connectedCallback(){let e=s.content.cloneNode(!0);this.appendChild(e)}})},function(e,t,i){"use strict";i(38);const s=document.createElement("template");s.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>',window.customElements.define("cancel-icon-sk",class extends HTMLElement{connectedCallback(){let e=s.content.cloneNode(!0);this.appendChild(e)}})},function(e,t,i){"use strict";i(38);const s=document.createElement("template");s.innerHTML='<svg class="icon-sk-svg" xmlns="http://www.w3.org/2000/svg" width=24 height=24 viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',window.customElements.define("add-circle-icon-sk",class extends HTMLElement{connectedCallback(){let e=s.content.cloneNode(!0);this.appendChild(e)}})},,function(e,t,i){"use strict";i.r(t);var s=i(7),n=i(2),r=i(0),o=i(5),a=i(3),l=i(6),c=i.n(l),d=i(14),h=(i(15),i(22),i(21),i(20),i(19),i(16),i(18),i(17),i(12),i(8)),u=i(10);const _=["quarantined","error"],f="--";function p(e,t){if(!e.name)for(let t of x)e[t]=!0;if(Array.isArray(t))for(let i of t)-1===_.indexOf(i.key)&&(e[i.key+"-tag"]=!0);else for(let i in t)e[i+"-tag"]=!0}function m(e,t){if(e.name||(e.state=["PENDING","RUNNING","PENDING_RUNNING","COMPLETED","COMPLETED_SUCCESS","COMPLETED_FAILURE","EXPIRED","TIMED_OUT","BOT_DIED","CANCELED","DEDUPED","ALL","NO_RESOURCE"]),Array.isArray(t)){for(let i of t)if(-1===_.indexOf(i.key)){let t=e[i.key+"-tag"];for(let e of i.value)t=y(t,e);e[i.key+"-tag"]=t}}else for(let i in t){let s=e[i+"-tag"];for(let e of t[i])s=y(s,e);e[i+"-tag"]=s}}function g(e,t,i){if(!t)return console.warn("falsey task passed into column"),"";let s=O[e];if(s)return s(t,i);e=w(e);let n=t.tagMap[e];return n?(n=n.map(t=>Object(h.a)(t,e)),i._verbose?n.join(" | "):n[0]):t[e]||f}const b={state:function(e,t){let i=e.state;if(t===i||"ALL"===t)return!0;if("PENDING_RUNNING"===t)return"PENDING"===i||"RUNNING"===i;let s=e.failure;if("COMPLETED_SUCCESS"===t)return"COMPLETED"===i&&!s;if("COMPLETED_FAILURE"===t)return"COMPLETED"===i&&s;let n=e.try_number;return"DEDUPED"===t?"COMPLETED"===i&&"0"===n:void 0}};function v(e){return e&&e.endsWith("-tag")?`${w(e)} (tag)`:E[e]||e}function y(e,t){if(!e||!e.length)return[t];for(let i=0;i<e.length;i++){if(t===e[i])return e;if(t<e[i])return e.splice(i,0,t),e}return e.push(t),e}const k=Object(u.b)(["name","created_ts","pending_time","started_ts","duration","completed_ts","abandoned_ts","modified_ts"]);function w(e){return e&&e.endsWith("-tag")?e.substring(0,e.length-4):e}const E={abandoned_ts:"Abandoned On",completed_ts:"Completed On",bot:"Bot Assigned",costs_usd:"Cost (USD)",created_ts:"Created On",duration:"Duration",modified_ts:"Last Modified",started_ts:"Started Working On",user:"Requesting User",pending_time:"Time Spent Pending"},C=["abandoned_ts","completed_ts","created_ts","modified_ts","started_ts"],x=["name","state","costs_usd","deduped_from","duration","pending_time","server_versions","bot",...C];function A(e){return t=>t["human_"+e]}const O={abandoned_ts:A("abandoned_ts"),bot:function(e){let t=e.bot_id;return t?r["c"]`<a target=_blank rel=noopener href=${Object(u.a)(t)}>${t}</a>`:f},completed_ts:A("completed_ts"),costs_usd:function(e){return e.costs_usd},created_ts:A("created_ts"),duration:A("duration"),modified_ts:A("modified_ts"),name:(e,t)=>{let i=e.name;return!t._verbose&&e.name.length>70&&(i=i.slice(0,67)+"..."),r["c"]`<a target=_blank rel=noopener title=${e.name} href=${Object(u.f)(e.task_id)}>${i}</a>`},pending_time:A("pending_time"),source_revision:function(e){return e.source_revision.substring(0,8)},started_ts:A("started_ts"),state:function(e){let t=e.state;return"COMPLETED"===t?e.failure?"COMPLETED (FAILURE)":"0"===e.try_number?"COMPLETED (DEDUPED)":"COMPLETED (SUCCESS)":t}},T={abandoned_ts:N("abandoned_ts"),bot:(e,t,i)=>e*c()(t.bot_id||"z",i.bot_id||"z"),completed_ts:N("completed_ts"),created_ts:N("created_ts"),duration:L("duration"),modified_ts:N("modified_ts"),name:(e,t,i)=>e*c()(t.name,i.name),pending_time:L("pending_time"),started_ts:N("started_ts")};function N(e){return(t,i,s)=>t*((i[e]||"9999")-(s[e]||"9999"))}function L(e){return(t,i,s)=>t*((void 0!==i[e]?i[e]:1e12)-(void 0!==s[e]?s[e]:1e12))}var I=i(11),M=i(13);const $=(e,t)=>r["c"]` <tr class="task-row ${function(e){let t=g("state",e);return"CANCELED"===t||"TIMED_OUT"===t||"EXPIRED"===t||"NO_RESOURCE"===t?"exception":"BOT_DIED"===t?"bot_died":"COMPLETED (FAILURE)"===t?"failed_task":"RUNNING"===t||"PENDING"===t?"pending_task":""}(e)}"> ${t._cols.map(i=>((e,t,i)=>r["c"]` <td>${g(e,t,i)}</td>`)(i,e,t))} </tr>`,D=e=>e._showColSelector?r["c"]`  <div class=col_selector @click=${e=>e.stopPropagation()}> <input id=column_search class=search type=text placeholder='Search columns to show' @input=${t=>e._refilterPossibleColumns(t)}  @keyup=${t=>e._columnSearch(t)}> </input> ${e._filteredPossibleColumns.map(t=>((e,t)=>r["c"]` <div class=item> <span class=key>${e}</span> <span class=flex></span> <checkbox-sk ?checked=${t._cols.indexOf(e)>=0} @click=${i=>t._toggleCol(i,e)} @keypress=${i=>t._toggleCol(i,e)}> </checkbox-sk> </div>`)(t,e))} </div>`:"",S=e=>r["c"]`  <select-sk class="selector keys" @selection-changed=${t=>e._primaryKeyChanged(t)}> ${e._filteredPrimaryArr.map(t=>((e,t)=>r["c"]` <div class=item ?selected=${t._primaryKey===e}> <span class=key>${e}</span> </div>`)(t,e))} </select-sk>  <select-sk class="selector values" disabled> ${(e=>{if(!e._primaryKey)return"";let t=e._primaryMap[e._primaryKey];return t?((t=Object(I.c)(t,e._primaryKey,e._filterQuery)).sort(c.a),t.map(t=>r["c"]` <div class=item> <span class=value>${Object(h.a)(t,w(e._primaryKey))}</span> <span class=flex></span> <add-circle-icon-sk ?hidden=${e._filters.indexOf(Object(I.d)(e._primaryKey,t))>=0} @click=${()=>e._addFilter(Object(I.d)(e._primaryKey,t))}> </add-circle-icon-sk> </div>`)):r["c"]` <div class=information_only> Hmm... no preloaded values. Maybe try typing your filter like ${e._primaryKey}:foo-bar in the above box and hitting enter. </div>`})(e)} </select-sk>`,P=(e,t)=>r["c"]` <tr> <td><a href=${Object(o.a)(e._makeSummaryURL(t,!0))}>${t.label}</a>:</td> <td>${t.value}</td> </tr>`,j=e=>r["c"]` <div class=header> <div class=filter_box ?hidden=${!e.loggedInAndAuthorized}> <search-icon-sk></search-icon-sk> <input id=filter_search class=search type=text placeholder='Search filters or supply a filter and press enter' @input=${e._refilterPrimaryKeys} @keyup=${e._filterSearch}> </input>  <div></div> ${S(e)} ${(e=>r["c"]` <div class=options> <div class=verbose> <checkbox-sk ?checked=${e._verbose} @click=${e._toggleVerbose}> </checkbox-sk> <span>Verbose Entries</span> </div> <div>TODO datepicker</div> <a href=${e._matchingBotsLink()}>View Matching Bots</a> <button ?disabled=${!e.permissions.cancel_task} @click=${e=>alert("use the dialog on the old tasklist UI for now.")}> CANCEL ALL TASKS </button> </div>`)(e)} </div> ${(e=>r["c"]` <div class=summary> <div class=title>Selected Tasks</div> <table id=query_counts> ${P(e,{label:"Displayed",value:e._tasks.length})} ${e._queryCounts.map(t=>P(e,t))} </table> </div>`)(e)} </div> </div> <div class=chip_container> ${e._filters.map(t=>((e,t)=>r["c"]` <span class=chip> <span>${e}</span> <cancel-icon-sk @click=${()=>t._removeFilter(e)}></cancel-icon-sk> </span>`)(t,e))} </div>`,H=e=>r["c"]` <swarming-app id=swapp client_id=${e.client_id} ?testing_offline=${e.testing_offline}> <header> <div class=title>Swarming Task List</div> <aside class=hideable> <a href=/>Home</a> <a href=/botlist>Bot List</a> <a href=/oldui/tasklist>Old Task List</a> <a href=/tasklist>Task List</a> </aside> </header>  <main @click=${t=>e._showColSelector&&e._toggleColSelector(t)}> <h2 class=message ?hidden=${e.loggedInAndAuthorized}>${e._message}</h2> ${e.loggedInAndAuthorized?j(e):""} <table class=task-table ?hidden=${!e.loggedInAndAuthorized}> <thead> <tr> <tr> ${((e,t)=>r["c"]`  <th class=col_options @click=${e._toggleColSelector}> <span class=show_widget> <more-vert-icon-sk tabindex=0 @keypress=${e._toggleColSelector}></more-vert-icon-sk> </span> <span>${v(t)}</span> <sort-toggle @click=${e=>e.stopPropagation()&&e.preventDefault()} key=name .currentKey=${e._sort} .direction=${e._dir}> </sort-toggle> ${D(e)} </th>`)(e,e._cols[0])}  ${e._cols.slice(1).map(t=>((e,t)=>r["c"]` <th>${v(e)} <sort-toggle .key=${e} .currentKey=${t._sort} .direction=${t._dir}> </sort-toggle> </th>`)(t,e))} </tr> </tr> </thead> <tbody>${e._sortTasks().map(t=>$(t,e))}</tbody> </table> </main> <footer></footer> </swarming-app>`;window.customElements.define("task-list",class extends M.a{constructor(){super(H),this._tasks=[],this._cols=[],this._dir="",this._filters=[],this._limit=0,this._primaryKey="",this._showAll=!1,this._sort="",this._verbose=!1,this._queryCounts=[{label:"Total",value:9e4},{label:"Total",value:9e4},{label:"Total",value:9e4},{label:"Total",value:9e4},{label:"Completed (Failure)",value:9e4},{label:"Completed (Success)",value:9e4},{label:"Total",value:9e4},{label:"Total",value:9e4},{label:"Total",value:9e4},{label:"Total",value:9e4},{label:"Completed (Failure)",value:9e4}],this._stateChanged=Object(d.a)(()=>({c:this._cols,d:this._dir,f:this._filters,k:this._primaryKey,s:this._sort,show_all:this._showAll,v:this._verbose}),e=>{this._cols=e.c,e.c.length||(this._cols=["name","state","bot","created_ts","pending_time","duration","pool-tag"]),this._dir=e.d||"desc",this._filters=e.f,this._primaryKey=e.k,this._verbose=e.v,this._sort=e.s||"created_ts",this._limit=100,this._showAll=e.show_all,this._fetch(),this.render()}),this._filteredPrimaryArr=[],this._possibleColumns={},this._primaryMap={},this._message="You must sign in to see anything useful.",this._showColSelector=!1,this._columnQuery="",this._filterQuery="",this._fetchController=null}connectedCallback(){super.connectedCallback(),this._loginEvent=(e=>{this._fetch(),this.render()}),this.addEventListener("log-in",this._loginEvent),this._sortEvent=(e=>{this._sort=e.detail.key,this._dir=e.detail.direction,this._stateChanged(),this.render()}),this.addEventListener("sort-change",this._sortEvent)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("log-in",this._loginEvent)}_addFilter(e){this._filters.indexOf(e)>=0||(this._filters.push(e),this._stateChanged(),this._tasks=function(e,t){let i=[];for(let t of e){let e=t.indexOf(":"),s=t.slice(0,e),n=t.slice(e+1);i.push([s,n])}return t.filter(e=>{let t=!0;for(let s of i){let[i,n]=s;b[i]?t&=b[i](e,n):(i=w(i),t&=-1!==(e.tagMap[i]||[]).indexOf(n))}return t})}(this._filters,this._tasks),this._fetch(),this.render())}_columnSearch(e){if("Enter"!==e.key)return;let t=Object(s.a)("#column_search",this),i=t.value.trim();if(this._possibleColumns[i]){if(t.value="",this._columnQuery="",-1!==this._cols.indexOf(i))return this._refilterPossibleColumns(),void Object(n.a)(`Column "${i}" already displayed.`,5e3);this._cols.push(i),this._stateChanged(),this._refilterPossibleColumns()}else Object(n.a)(`Column "${i}" is not valid.`,5e3)}_fetch(){if(!this.loggedInAndAuthorized||!this._limit)return;this._fetchController&&this._fetchController.abort(),this._fetchController=new AbortController;let e={headers:{authorization:this.auth_header},signal:this._fetchController.signal};this.app.addBusyTasks(1);let t="?limit=100";fetch(`/_ah/api/swarming/v1/tasks/list?${t}`,e).then(a.a).then(i=>{this._tasks=[];const s=i=>{let n={};this._tasks=this._tasks.concat(function(e,t){if(!e)return[];let i=new Date;for(let s of e){let e={};s.tags=s.tags||[];for(let i of s.tags){let s=i.split(":",1)[0],n=i.substring(s.length+1);e[s]?e[s].push(n):e[s]=[n],t[s]=y(t[s],n)}s.tagMap=e,s.costs_usd&&Array.isArray(s.costs_usd)?s.costs_usd.forEach(function(e,t){s.costs_usd[t]="$"+e.toFixed(4),"RUNNING"===s.state&&s.started_ts&&(s.costs_usd[t]=s.costs_usd[t]+"*")}):s.costs_usd=f;for(let e of C){Object(u.d)(s,e),!s.duration&&"RUNNING"===s.state&&s.started_ts&&(s.duration=(i-s.started_ts)/1e3),s.human_duration=Object(u.c)(s.duration),"RUNNING"===s.state&&s.started_ts&&(s.human_duration=s.human_duration+"*");let t=s.started_ts||s.abandoned_ts||new Date,n=s.created_ts&&t<s.created_ts;s.pending_time=void 0,!n&&s.created_ts&&(s.pending_time=(t-s.created_ts)/1e3),s.human_pending_time=Object(u.c)(s.pending_time),n||!s.created_ts||s.started_ts||s.abandoned_ts||(s.human_pending_time=s.human_pending_time+"*")}}return e}(i.items,n)),p(this._possibleColumns,n),m(this._primaryMap,n),this._rebuildFilterables(),this.render(),(this._filters.length||this._showAll)&&i.cursor?(this._limit=200,t="?limit=200&json.cursor",fetch(`/_ah/api/swarming/v1/tasks/list?${t}`,e).then(a.a).then(s).catch(e=>this.fetchError(e,"tasks/list (paging)"))):this.app.finishedTask()};s(i)}).catch(e=>this.fetchError(e,"tasks/list")),this._fetchedDimensions||(this._fetchedDimensions=!0,this.app.addBusyTasks(1),e={headers:{authorization:this.auth_header}},fetch("/_ah/api/swarming/v1/bots/dimensions",e).then(a.a).then(e=>{p(this._possibleColumns,e.bots_dimensions),m(this._primaryMap,e.bots_dimensions),this._rebuildFilterables(),this.render(),this.app.finishedTask()}).catch(e=>this.fetchError(e,"bots/dimensions")))}_filterSearch(e){if("Enter"!==e.key)return;let t=Object(s.a)("#filter_search",this),i=t.value.trim();if(-1!==i.indexOf(":")){if(t.value="",this._filterQuery="",this._primaryKey="",-1!==this._filters.indexOf(i))return this._refilterPrimaryKeys(),void Object(n.a)(`Filter "${i}" is already active`,5e3);this._addFilter(i),this._refilterPrimaryKeys()}else Object(n.a)('Invalid filter.  Should be like "foo:bar"',5e3)}_makeSummaryURL(){}_matchingBotsLink(){return"example.com/botlist"}_primaryKeyChanged(e){this._primaryKey=this._filteredPrimaryArr[e.detail.selection],this._stateChanged(),this.render()}_rebuildFilterables(){this._filteredPossibleColumns=Object.keys(this._possibleColumns),this._primaryArr=Object.keys(this._primaryMap),this._primaryArr.sort(),this._filteredPrimaryArr=this._primaryArr.slice()}_refilterPrimaryKeys(e){this._filterQuery=Object(s.a)("#filter_search",this).value,this._filteredPrimaryArr=Object(I.b)(this._primaryArr,this._primaryMap,this._filterQuery),this._filterQuery&&this._filteredPrimaryArr.length>0&&-1===this._filteredPrimaryArr.indexOf(this._primaryKey)&&(this._primaryKey=this._filteredPrimaryArr[0],this._stateChanged()),this.render()}_refilterPossibleColumns(e){let t=Object(s.a)("#column_search",this);this._columnQuery=t&&t.value||"",this._filteredPossibleColumns=Object(I.a)(Object.keys(this._possibleColumns),this._columnQuery),function(e,t){let i={};for(let e of t)i[e]=!0;e.sort((e,t)=>{let s=i[e],n=i[t];return s&&!n?-1:n&&!s?1:s&&n?k(e,t):e.localeCompare(t)})}(this._filteredPossibleColumns,this._cols),this.render()}_removeFilter(e){let t=this._filters.indexOf(e);-1!==t&&(this._filters.splice(t,1),this._stateChanged(),this._fetch(),this.render())}render(){if(function(e){e.sort(k)}(this._cols),super.render(),this._primaryKey){let e=Object(s.a)(".keys.selector .item[selected]",this);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}}_sortTasks(){return this._tasks.sort((e,t)=>{let i=this._sort;if(!i)return 0;let s=1;"desc"===this._dir&&(s=-1);let n=T[i];if(n)return n(s,e,t);let r=g(i,e,this);"none"!==r&&"--"!==r||(r="zzz");let o=g(i,t,this);return"none"!==o&&"--"!==o||(o="zzz"),s*c()(r,o)}),this._tasks}_toggleCol(e,t){e.preventDefault(),e.stopPropagation();let i=this._cols.indexOf(t);i>=0?this._cols.splice(i,1):this._cols.push(t),this._refilterPossibleColumns(),this._stateChanged(),this.render()}_toggleColSelector(e){e.preventDefault(),e.stopPropagation(),this._showColSelector=!this._showColSelector,this._refilterPossibleColumns()}_toggleVerbose(e){e.preventDefault(),this._verbose=!this._verbose,this._stateChanged(),this.render()}});i(28)},,,,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){}]);