{
  "comments": [
    {
      "key": {
        "uuid": "40aeb1e3_a56ee28c",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 924,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "are",
      "range": {
        "startLine": 924,
        "startChar": 21,
        "endLine": 924,
        "endChar": 23
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55a875ea_ed61be78",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 924,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "look up",
      "range": {
        "startLine": 924,
        "startChar": 75,
        "endLine": 924,
        "endChar": 79
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46cf1c46_f0ceceff",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 931,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "Should this be \"... snapshots\"? Would it be accurate to say \"number of events processed\"?",
      "range": {
        "startLine": 931,
        "startChar": 10,
        "endLine": 931,
        "endChar": 39
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ae988a4_42fb2471",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 946,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "This is a clever way of checking whether the key is set while also setting it. Which may be good It might be more explicit to explicitly check with memcache.get before setting with memcache.add.",
      "range": {
        "startLine": 946,
        "startChar": 9,
        "endLine": 946,
        "endChar": 21
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ce23e93_ff5d479a",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 952,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "Maybe this comment could go above the `if not memcache.add` block since it\u0027s relevant to that.",
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bdfd0cf_5b1588ff",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 959,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "Would \"running\" also be unset if the request takes longer than the amount of time that \u0027running\u0027 is set for? (400s?)",
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39774704_f0cddd2e",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 964,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "\"... more than 500 failed events pending to send\"? I interpret this as meaning that we\u0027re assuming that len(state.failed) is always \u003c\u003d 500",
      "range": {
        "startLine": 964,
        "startChar": 34,
        "endLine": 964,
        "endChar": 57
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c65fa307_fb9eb67c",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 978,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "remove",
      "range": {
        "startLine": 978,
        "startChar": 39,
        "endLine": 978,
        "endChar": 46
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09cca339_3edb5bae",
        "filename": "appengine/swarming/server/bot_management.py",
        "patchSetId": 6
      },
      "lineNbr": 1002,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "Perhaps the body of the `try` or `while` could be extracted.\n\nThis is similar to a few other comments/discussions I made before though -- it would be a helper function that\u0027s only used in one place, so IMO the advantage would be (1) less nesting, (2) shorter function, whereas the disadvantage would be (1) fragmenting the code, (2) more functions. The function isn\u0027t *too* long, I suppose, so I imagine you\u0027ll want to keep this as is.",
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03c40e34_6cdeba12",
        "filename": "appengine/swarming/setup_bigquery.sh",
        "patchSetId": 6
      },
      "lineNbr": 79,
      "author": {
        "id": 1003190
      },
      "writtenOn": "2018-12-13T23:09:15Z",
      "side": 1,
      "message": "This is thoughtful :-)",
      "range": {
        "startLine": 75,
        "startChar": 0,
        "endLine": 79,
        "endChar": 35
      },
      "revId": "47ef7c44ae5ed93c6c5761c803f1a6e63c9f5f86",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}